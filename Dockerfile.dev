# Development Dockerfile - Just run without build
FROM mcr.microsoft.com/dotnet/sdk:9.0
WORKDIR /app

# Copy everything
COPY . .

# Go to API directory
WORKDIR /app/src/API/Stocker.API

# Install EF tools
RUN dotnet tool install --global dotnet-ef
ENV PATH="$PATH:/root/.dotnet/tools"

# Restore
RUN dotnet restore || true

# Port
EXPOSE 80

# Environment
ENV ASPNETCORE_URLS=http://+:80
ENV ASPNETCORE_ENVIRONMENT=Development

# Run directly (development mode)
CMD ["dotnet", "run", "--urls", "http://+:80"]