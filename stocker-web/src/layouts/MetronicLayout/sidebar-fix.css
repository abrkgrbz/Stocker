/* Sidebar Menu Item Overflow Fix */

/* Menu item text overflow handling */
.metronic-menu .ant-menu-item {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  display: flex !important;
  align-items: center !important;
  position: relative !important;
}

/* Active item effect containment */
.metronic-menu .ant-menu-item::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  border-radius: 8px;
  transition: all 0.3s;
  pointer-events: none;
  z-index: -1;
}

.metronic-menu .ant-menu-item-selected::after,
.metronic-menu .ant-menu-item:hover::after {
  background: rgba(102, 126, 234, 0.08);
}

.metronic-menu .ant-menu-item-active {
  background-color: transparent !important;
}

.metronic-menu .ant-menu-submenu-title {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  display: flex !important;
  align-items: center !important;
  position: relative !important;
}

/* Submenu active state */
.metronic-menu .ant-menu-submenu-selected > .ant-menu-submenu-title {
  background-color: rgba(102, 126, 234, 0.08) !important;
  border-radius: 8px;
}

/* Menu item content wrapper */
.metronic-menu .ant-menu-title-content {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
}

/* Icon spacing fix */
.metronic-menu .ant-menu-item .anticon,
.metronic-menu .ant-menu-submenu-title .anticon {
  min-width: 18px !important;
  margin-right: 10px !important;
  flex-shrink: 0;
}

/* Menu item span fix */
.metronic-menu .ant-menu-item span,
.metronic-menu .ant-menu-submenu-title span {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline-block;
  max-width: calc(100% - 30px);
}

/* Submenu arrow fix */
.metronic-menu .ant-menu-submenu-arrow {
  position: absolute !important;
  right: 20px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
}

/* Badge positioning fix */
.metronic-menu .ant-menu-item .ant-badge {
  position: absolute;
  right: 20px;
  top: 50%;
  transform: translateY(-50%);
  margin-left: 0 !important;
}

/* Collapsed menu fix */
.ant-layout-sider-collapsed .metronic-menu .ant-menu-item,
.ant-layout-sider-collapsed .metronic-menu .ant-menu-submenu-title {
  padding: 0 calc(50% - 14px) !important;
}

.ant-layout-sider-collapsed .metronic-menu .ant-menu-item .anticon,
.ant-layout-sider-collapsed .metronic-menu .ant-menu-submenu-title .anticon {
  margin: 0 !important;
  font-size: 20px !important;
}

/* Tooltip for collapsed items */
.ant-layout-sider-collapsed .ant-menu-item-tooltip,
.ant-layout-sider-collapsed .ant-menu-submenu-title-tooltip {
  max-width: 200px;
}

/* Sidebar width constraints */
.metronic-sidebar {
  max-width: 265px !important;
  min-width: 265px !important;
  width: 265px !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
}

/* Prevent click effect overflow */
.metronic-sidebar .ant-menu {
  overflow: hidden !important;
}

.metronic-sidebar .ant-menu-inline {
  border-right: none !important;
}

.metronic-sidebar.ant-layout-sider-collapsed {
  max-width: 80px !important;
  min-width: 80px !important;
  width: 80px !important;
}

/* Menu item padding adjustments */
.metronic-menu .ant-menu-item,
.metronic-menu .ant-menu-submenu-title {
  padding-right: 45px !important; /* Extra space for badges/arrows */
}

/* Sub menu items */
.metronic-menu .ant-menu-sub {
  background: transparent !important;
}

.metronic-menu .ant-menu-sub .ant-menu-item {
  padding-left: 52px !important;
  padding-right: 20px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  display: flex !important;
  align-items: center !important;
  margin: 4px 12px !important;
  width: calc(100% - 24px) !important;
  border-radius: 8px !important;
}

.metronic-menu .ant-menu-sub .ant-menu-item-selected {
  background-color: rgba(102, 126, 234, 0.08) !important;
}

/* Sub menu item text */
.metronic-menu .ant-menu-sub .ant-menu-item .ant-menu-title-content {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
}

/* Sub menu item span */
.metronic-menu .ant-menu-sub .ant-menu-item span {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline-block;
  max-width: calc(100% - 20px);
}

/* Sub menu item icon fix */
.metronic-menu .ant-menu-sub .ant-menu-item .anticon {
  min-width: 16px !important;
  margin-right: 8px !important;
  flex-shrink: 0;
  font-size: 14px !important;
}

/* Master layout specific fixes */
.master-layout .ant-menu-item,
.master-layout .ant-menu-submenu-title {
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.master-layout .sidebar-footer {
  overflow: hidden;
}

.master-layout .sidebar-card {
  word-wrap: break-word;
}

.master-layout .sidebar-card h4,
.master-layout .sidebar-card p {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* Fix for long menu texts */
@media (max-width: 1400px) {
  .metronic-menu .ant-menu-item,
  .metronic-menu .ant-menu-submenu-title {
    font-size: 13px !important;
  }
  
  .menu-icon {
    font-size: 16px !important;
  }
}

/* Responsive sidebar */
@media (max-width: 768px) {
  .metronic-sidebar {
    position: fixed !important;
    height: 100vh !important;
    z-index: 999 !important;
    left: 0 !important;
    top: 0 !important;
  }
  
  .metronic-sidebar.ant-layout-sider-collapsed {
    left: -80px !important;
  }
}