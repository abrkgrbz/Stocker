var e=(e,s,l)=>new Promise((i,a)=>{var n=e=>{try{r(l.next(e))}catch(s){a(s)}},t=e=>{try{r(l.throw(e))}catch(s){a(s)}},r=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,t);r((l=l.apply(e,s)).next())});import{j as s,Z as l,O as i,a2 as a,a3 as n,a5 as t,S as r,aX as d,aZ as c,ay as o,I as h,N as u,Q as x,$ as j,aE as g,aS as m,a_ as p,c as v,a4 as y,a0 as f,B as S,Y as b}from"./chunk-BxJbIkJM.js";import{r as T}from"./chunk-nBmrMGrr.js";import{u as V}from"./chunk-Bh6S8itj.js";import{b as P}from"../index-C9wl3Bba.js";import"./chunk-FkXcRIdw.js";import"./chunk-BsETiAjl.js";const{Title:k,Text:C}=l,{TabPane:I}=c,w=()=>{const{isConnected:l,emailValidation:w,passwordStrength:N,domainCheck:A,phoneValidation:R,companyNameCheck:E,identityValidation:O,error:D,validateEmail:B,checkPasswordStrength:K,checkDomain:F,validatePhone:M,checkCompanyName:W,validateIdentity:$}=V(),[J,L]=T.useState(""),[Q,U]=T.useState(""),[Z,q]=T.useState(""),[G,H]=T.useState(""),[X,Y]=T.useState(""),[_,z]=T.useState(""),[ee,se]=T.useState("tc"),[le,ie]=T.useState(!1),[ae,ne]=T.useState(!1),[te,re]=T.useState(!1),[de,ce]=T.useState(!1),[oe,he]=T.useState(!1),[ue,xe]=T.useState(!1),[je,ge]=T.useState(null),[me,pe]=T.useState(null),[ve,ye]=T.useState(null),[fe,Se]=T.useState(null),[be,Te]=T.useState(null),[Ve,Pe]=T.useState(null),[ke,Ce]=T.useState(!1),[Ie,we]=T.useState(!1),[Ne,Ae]=T.useState(!1),[Re,Ee]=T.useState(!1),[Oe,De]=T.useState(!1),[Be,Ke]=T.useState(!1);T.useEffect(()=>{w&&ie(!1)},[w]),T.useEffect(()=>{N&&ne(!1)},[N]),T.useEffect(()=>{A&&re(!1)},[A]),T.useEffect(()=>{R&&ce(!1)},[R]),T.useEffect(()=>{E&&he(!1)},[E]),T.useEffect(()=>{O&&xe(!1)},[O]);const Fe=e=>{switch(e){case"VeryWeak":return"#ff4d4f";case"Weak":return"#faad14";case"Fair":return"#fadb14";case"Strong":return"#52c41a";case"VeryStrong":return"#389e0d";default:return"#d9d9d9"}},Me=(e,l,a,n,d,m,f,S,T,V,P=!1,k)=>s.jsx(t,{title:e,children:s.jsxs(c,{defaultActiveKey:"signalr",children:[s.jsxs(I,{tab:s.jsxs("span",{children:[s.jsx(p,{})," SignalR (Real-time)"]}),children:[s.jsx(o.Item,{label:`${e} - SignalR`,validateStatus:S?"validating":n?n.isValid||n.score>=3?"success":"error":"",hasFeedback:S||!!n,help:(null==n?void 0:n.message)||(null==n?void 0:n.suggestions)&&n.suggestions.join(", "),children:P?s.jsx(h.Password,{placeholder:V,value:l,onChange:e=>{a(e.target.value),m(e.target.value)}}):s.jsx(h,{placeholder:V,value:l,onChange:e=>{a(e.target.value),m(e.target.value)},addonAfter:k,suffix:S?s.jsx(u,{indicator:s.jsx(x,{})}):n?n.isValid||n.score>=3?s.jsx(j,{style:{color:"#52c41a"}}):s.jsx(g,{style:{color:"#ff4d4f"}}):null})}),n&&s.jsx(i,{message:"SignalR Result",description:s.jsxs("div",{children:[void 0!==n.score&&s.jsxs("div",{children:[s.jsx(C,{children:"Score: "}),s.jsxs(b,{color:Fe(n.level),children:[n.level," (",n.score,"/5)"]})]}),n.details&&s.jsx("pre",{children:JSON.stringify(n.details,null,2)}),n.suggestions&&n.suggestions.length>0&&s.jsx("ul",{children:n.suggestions.map((e,l)=>s.jsx("li",{children:e},l))})]}),type:n.isValid||n.score>=3?"success":"warning"})]},"signalr"),s.jsxs(I,{tab:s.jsxs("span",{children:[s.jsx(y,{})," REST API"]}),children:[s.jsx(o.Item,{label:`${e} - REST API`,validateStatus:T?"validating":d?d.isValid||d.score>=3||d.isAvailable?"success":"error":"",hasFeedback:T,children:s.jsxs(r.Compact,{style:{width:"100%"},children:[P?s.jsx(h.Password,{placeholder:V,value:l,onChange:e=>a(e.target.value)}):s.jsx(h,{placeholder:V,value:l,onChange:e=>a(e.target.value),addonAfter:k}),s.jsx(v,{type:"primary",onClick:f,loading:T,children:"Validate"})]})}),d&&s.jsx(i,{message:"API Result",description:s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Message:"})," ",d.message]}),void 0!==d.score&&s.jsxs("p",{children:[s.jsx("strong",{children:"Score:"})," ",s.jsxs(b,{color:Fe(d.level),children:[d.level," (",d.score,"/5)"]})]}),d.formattedNumber&&s.jsxs("p",{children:[s.jsx("strong",{children:"Formatted:"})," ",d.formattedNumber]}),d.carrier&&s.jsxs("p",{children:[s.jsx("strong",{children:"Carrier:"})," ",d.carrier]}),d.suggestions&&d.suggestions.length>0&&s.jsxs("div",{children:[s.jsx("strong",{children:"Suggestions:"}),s.jsx("ul",{children:d.suggestions.map((e,l)=>s.jsx("li",{children:e},l))})]}),d.details&&Object.keys(d.details).length>0&&s.jsxs("details",{children:[s.jsx("summary",{children:"Details"}),s.jsx("pre",{children:JSON.stringify(d.details,null,2)})]})]}),type:d.isValid||d.score>=3||d.isAvailable?"success":"warning"})]},"api")]})});return s.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto"},children:[s.jsx(k,{level:2,children:"Validation Test Page"}),s.jsx(i,{message:l?"SignalR Connected":"SignalR Disconnected",description:l?"Real-time validation is active. Type in the fields to see instant validation.":"SignalR is not connected. Using mock service for real-time validation.",type:l?"success":"warning",showIcon:!0,style:{marginBottom:24}}),D&&s.jsx(i,{message:"Validation Error",description:D,type:"error",showIcon:!0,closable:!0,style:{marginBottom:24}}),s.jsxs(a,{gutter:[24,24],children:[s.jsx(n,{xs:24,md:12,children:Me("Email Validation",J,L,w,je,s=>e(null,null,function*(){L(s),s&&s.includes("@")&&(ie(!0),yield B(s))}),()=>e(null,null,function*(){var e,s;if(J&&J.includes("@")){Ce(!0);try{const e=yield P.post("/api/public/validate/email",{email:J});ge(e.data)}catch(l){ge({isValid:!1,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{Ce(!1)}}}),le,ke,"test@example.com")}),s.jsx(n,{xs:24,md:12,children:Me("Password Strength",Q,U,N,me,s=>e(null,null,function*(){U(s),s&&(ne(!0),yield K(s))}),()=>e(null,null,function*(){var e,s;if(Q){we(!0);try{const e=yield P.post("/api/public/validate/password-strength",{password:Q});pe(e.data)}catch(l){pe({score:0,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{we(!1)}}}),ae,Ie,"Enter a password",!0)}),s.jsx(n,{xs:24,md:12,children:Me("Domain Availability",Z,q,A,ve,s=>e(null,null,function*(){q(s),s&&s.length>2&&(re(!0),yield F(`${s}.stocker.app`))}),()=>e(null,null,function*(){var e,s;if(Z&&!(Z.length<3)){Ae(!0);try{const e=yield P.post("/api/public/validate/domain",{domain:`${Z}.stocker.app`});ye(e.data)}catch(l){ye({isAvailable:!1,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{Ae(!1)}}}),te,Ne,"mycompany",!1,".stocker.app")}),s.jsx(n,{xs:24,md:12,children:Me("Phone Validation",G,H,R,fe,s=>e(null,null,function*(){H(s),s&&s.length>6&&(ce(!0),yield M(s,"TR"))}),()=>e(null,null,function*(){var e,s;if(G&&!(G.length<7)){Ee(!0);try{const e=yield P.post("/api/public/validate/phone",{phoneNumber:G,countryCode:"TR"});Se(e.data)}catch(l){Se({isValid:!1,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{Ee(!1)}}}),de,Re,"+90 555 123 4567")}),s.jsx(n,{xs:24,md:12,children:Me("Company Name Validation",X,Y,E,be,s=>e(null,null,function*(){Y(s),s&&s.length>2&&(he(!0),yield W(s))}),()=>e(null,null,function*(){var e,s;if(X&&!(X.length<3)){De(!0);try{const e=yield P.post("/api/public/validate/company-name",{companyName:X});Te(e.data)}catch(l){Te({isValid:!1,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{De(!1)}}}),oe,Oe,"ABC Technology Inc.")}),s.jsx(n,{xs:24,md:12,children:s.jsxs(t,{title:"TC Kimlik / Vergi No Validation",children:[s.jsx(r,{direction:"vertical",style:{width:"100%",marginBottom:16},children:s.jsxs(d.Group,{value:ee,onChange:e=>{se(e.target.value),z(""),Pe(null)},children:[s.jsx(d.Button,{value:"tc",children:"TC Kimlik No"}),s.jsx(d.Button,{value:"vkn",children:"Vergi No"})]})}),s.jsxs(c,{defaultActiveKey:"signalr",children:[s.jsxs(I,{tab:s.jsxs("span",{children:[s.jsx(p,{})," SignalR (Real-time)"]}),children:[s.jsx(o.Item,{label:("tc"===ee?"TC Kimlik No":"Vergi No")+" - SignalR",validateStatus:ue?"validating":O?O.isValid?"success":"error":"",hasFeedback:ue||!!O,help:null==O?void 0:O.message,children:s.jsx(h,{placeholder:"tc"===ee?"11111111110":"1234567890",value:_,onChange:s=>{var l;z(s.target.value),l=s.target.value,e(null,null,function*(){z(l);const e=l.replace(/\D/g,""),s="tc"===ee?11:10;if(e.length===s){xe(!0);try{yield $(e)}catch(i){}}})},maxLength:"tc"===ee?11:10,prefix:s.jsx(m,{}),suffix:ue?s.jsx(u,{indicator:s.jsx(x,{})}):O?O.isValid?s.jsx(j,{style:{color:"#52c41a"}}):s.jsx(g,{style:{color:"#ff4d4f"}}):null})}),O&&s.jsx(i,{message:"SignalR Result",description:s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",O.numberType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Message:"})," ",O.message]}),O.details&&Object.keys(O.details).length>0&&s.jsxs("details",{children:[s.jsx("summary",{children:"Details"}),s.jsx("pre",{children:JSON.stringify(O.details,null,2)})]})]}),type:O.isValid?"success":"warning"})]},"signalr"),s.jsxs(I,{tab:s.jsxs("span",{children:[s.jsx(y,{})," REST API"]}),children:[s.jsx(o.Item,{label:("tc"===ee?"TC Kimlik No":"Vergi No")+" - REST API",validateStatus:Be?"validating":Ve?Ve.isValid?"success":"error":"",hasFeedback:Be,children:s.jsxs(r.Compact,{style:{width:"100%"},children:[s.jsx(h,{placeholder:"tc"===ee?"11111111110":"1234567890",value:_,onChange:e=>z(e.target.value),maxLength:"tc"===ee?11:10,prefix:s.jsx(m,{})}),s.jsx(v,{type:"primary",onClick:()=>e(null,null,function*(){var e,s;const l=_.replace(/\D/g,""),i="tc"===ee?11:10;if(l.length===i){Ke(!0);try{const e=yield P.post("/api/public/validate/identity",{identityNumber:l});Pe(e.data)}catch(a){Pe({isValid:!1,message:(null==(s=null==(e=a.response)?void 0:e.data)?void 0:s.message)||"API hatası",numberType:"tc"===ee?"TCKimlik":"VergiNo"})}finally{Ke(!1)}}}),loading:Be,children:"Validate"})]})}),Ve&&s.jsx(i,{message:"API Result",description:s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",Ve.numberType]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Message:"})," ",Ve.message]}),Ve.formattedNumber&&s.jsxs("p",{children:[s.jsx("strong",{children:"Formatted:"})," ",Ve.formattedNumber]}),Ve.details&&Object.keys(Ve.details).length>0&&s.jsxs("details",{children:[s.jsx("summary",{children:"Details"}),s.jsx("pre",{children:JSON.stringify(Ve.details,null,2)})]})]}),type:Ve.isValid?"success":"warning"})]},"api")]})]})})]}),s.jsx(f,{}),s.jsx(t,{title:"Connection & API Information",style:{marginTop:24},children:s.jsxs(a,{gutter:[24,24],children:[s.jsxs(n,{xs:24,md:12,children:[s.jsx(k,{level:5,children:"SignalR Status"}),s.jsxs(r,{direction:"vertical",style:{width:"100%"},children:[s.jsxs(r,{children:[s.jsx(S,{status:l?"success":"error"}),s.jsx(C,{strong:!0,children:"Connection: "}),s.jsx(C,{children:l?"Connected":"Disconnected"})]}),s.jsxs(r,{children:[s.jsx(C,{strong:!0,children:"Validation Hub: "}),s.jsx(C,{code:!0,children:"http://localhost:5104/hubs/validation"})]}),s.jsxs(r,{children:[s.jsx(C,{strong:!0,children:"Protocol: "}),s.jsx(C,{children:"WebSockets / LongPolling"})]})]})]}),s.jsxs(n,{xs:24,md:12,children:[s.jsx(k,{level:5,children:"REST API Endpoints"}),s.jsxs(r,{direction:"vertical",style:{width:"100%"},children:[s.jsx(C,{code:!0,children:"POST /api/public/validate/email"}),s.jsx(C,{code:!0,children:"POST /api/public/validate/phone"}),s.jsx(C,{code:!0,children:"POST /api/public/validate/password-strength"}),s.jsx(C,{code:!0,children:"POST /api/public/validate/domain"}),s.jsx(C,{code:!0,children:"POST /api/public/validate/company-name"})]})]})]})}),s.jsxs(t,{title:"Test Scenarios",style:{marginTop:24},children:[s.jsx(k,{level:5,children:"Try these test cases:"}),s.jsxs(a,{gutter:[24,24],children:[s.jsxs(n,{xs:24,md:8,children:[s.jsx(C,{strong:!0,children:"Email Tests:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Valid: test@example.com"}),s.jsx("li",{children:"Typo: test@gmial.com"}),s.jsx("li",{children:"Disposable: test@tempmail.com"}),s.jsx("li",{children:"Invalid: test@"})]})]}),s.jsxs(n,{xs:24,md:8,children:[s.jsx(C,{strong:!0,children:"Phone Tests (TR):"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Valid: 5551234567"}),s.jsx("li",{children:"With code: 905551234567"}),s.jsx("li",{children:"Invalid: 1234567890"}),s.jsx("li",{children:"Short: 555123"})]})]}),s.jsxs(n,{xs:24,md:8,children:[s.jsx(C,{strong:!0,children:"Password Tests:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Weak: 123456"}),s.jsx("li",{children:"Medium: Test123"}),s.jsx("li",{children:"Strong: Test@123456"}),s.jsx("li",{children:"Very Strong: MyP@ssw0rd!2024"})]})]})]}),s.jsxs(a,{gutter:[24,24],style:{marginTop:16},children:[s.jsxs(n,{xs:24,md:8,children:[s.jsx(C,{strong:!0,children:"TC Kimlik No Tests:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Valid Test: 11111111110"}),s.jsx("li",{children:"Valid Test: 10000000146"}),s.jsx("li",{children:"Invalid: 12345678901"}),s.jsx("li",{children:"Invalid: 00000000000"})]})]}),s.jsxs(n,{xs:24,md:8,children:[s.jsx(C,{strong:!0,children:"Vergi No Tests:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Valid Test: 1234567890"}),s.jsx("li",{children:"Invalid: 1111111111"}),s.jsx("li",{children:"Invalid: 0000000000"}),s.jsx("li",{children:"Short: 123456"})]})]}),s.jsxs(n,{xs:24,md:8,children:[s.jsx(C,{strong:!0,children:"Company Name Tests:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Available: MyUniqueCompany"}),s.jsx("li",{children:"Similar: Microsoft Tech"}),s.jsx("li",{children:"Premium: DataCloud"}),s.jsx("li",{children:"Short: AB"})]})]})]})]})]})};export{w as SignalRTestPage};
