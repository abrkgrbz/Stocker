var q=Object.defineProperty;var y=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var v=(a,r,s)=>r in a?q(a,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[r]=s,h=(a,r)=>{for(var s in r||(r={}))P.call(r,s)&&v(a,s,r[s]);if(y)for(var s of y(r))R.call(r,s)&&v(a,s,r[s]);return a};var x=(a,r)=>{var s={};for(var i in a)P.call(a,i)&&r.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&y)for(var i of y(a))r.indexOf(i)<0&&R.call(a,i)&&(s[i]=a[i]);return s};var D=(a,r,s)=>v(a,typeof r!="symbol"?r+"":r,s);var w=(a,r,s)=>new Promise((i,o)=>{var n=t=>{try{d(s.next(t))}catch(p){o(p)}},b=t=>{try{d(s.throw(t))}catch(p){o(p)}},d=t=>t.done?i(t.value):Promise.resolve(t.value).then(n,b);d((s=s.apply(a,r)).next())});import{al as j,am as f,ag as l,j as e,O as B,F as $,Q as C,ah as k,aj as U,v as z,U as E,an as A,J as S}from"./chunk-CQugYT0Y.js";import{u as M,r as I,L as F}from"./chunk-a6Wk6XzP.js";import{f as m}from"./chunk-DDRBbOma.js";class H{constructor(){D(this,"defaultDuration",4)}success(r,s){const n=s||{},{title:i="Başarılı"}=n,o=x(n,["title"]);j.success(h({message:i,description:r,duration:this.defaultDuration,placement:"topRight"},o))}error(r,s){const n=s||{},{title:i="Hata"}=n,o=x(n,["title"]);j.error(h({message:i,description:r,duration:this.defaultDuration,placement:"topRight"},o))}info(r,s){const n=s||{},{title:i="Bilgi"}=n,o=x(n,["title"]);j.info(h({message:i,description:r,duration:this.defaultDuration,placement:"topRight"},o))}warning(r,s){const n=s||{},{title:i="Uyarı"}=n,o=x(n,["title"]);j.warning(h({message:i,description:r,duration:this.defaultDuration,placement:"topRight"},o))}simpleSuccess(r){f.success(r)}simpleError(r){f.error(r)}simpleInfo(r){f.info(r)}simpleWarning(r){f.warning(r)}simpleLoading(r="Yükleniyor..."){return f.loading(r,0)}destroy(){j.destroy(),f.destroy()}}const g=new H,{Title:G,Text:_,Paragraph:L}=$,{Step:T}=C,V=()=>{const[a]=l.useForm(),[r]=l.useForm(),s=M(),[i,o]=I.useState(0),[n,b]=I.useState(""),[d,t]=I.useState(!1),p=c=>w(null,null,function*(){t(!0);try{yield new Promise(u=>setTimeout(u,1500)),g.success("Şifre sıfırlama kodu email adresinize gönderildi."),b(c.email),o(1)}catch(u){g.error("Kod gönderilirken bir hata oluştu. Lütfen tekrar deneyin.")}finally{t(!1)}}),Y=c=>w(null,null,function*(){t(!0);try{yield new Promise(u=>setTimeout(u,1500)),g.success("Şifreniz başarıyla güncellendi. Giriş yapabilirsiniz."),o(2),setTimeout(()=>{s("/login")},2e3)}catch(u){g.error("Şifre güncellenirken bir hata oluştu. Lütfen tekrar deneyin.")}finally{t(!1)}}),K=()=>w(null,null,function*(){t(!0);try{yield new Promise(c=>setTimeout(c,1500)),g.success("Yeni kod gönderildi.")}catch(c){g.error("Kod gönderilirken bir hata oluştu.")}finally{t(!1)}});return e.jsx("div",{className:"forgot-password-container",children:e.jsx("div",{className:"forgot-password-content",children:e.jsxs(B,{className:"forgot-password-card",children:[e.jsxs("div",{className:"forgot-password-header",children:[e.jsx(G,{level:2,children:"Şifremi Unuttum"}),e.jsxs(L,{type:"secondary",children:[i===0&&"Email adresinizi girin, size şifre sıfırlama kodu gönderelim.",i===1&&"Email adresinize gönderilen kodu girin ve yeni şifrenizi belirleyin.",i===2&&"Şifreniz başarıyla güncellendi!"]})]}),e.jsxs(C,{current:i,className:"forgot-password-steps",children:[e.jsx(T,{title:"Email"}),e.jsx(T,{title:"Doğrulama"}),e.jsx(T,{title:"Tamamlandı"})]}),i===0&&e.jsxs(l,{form:a,layout:"vertical",onFinish:p,className:"forgot-password-form",children:[e.jsx(l.Item,{name:"email",label:"Email Adresi",rules:[m.required("Email adresi zorunludur"),m.email("Geçerli bir email adresi giriniz")],children:e.jsx(k,{size:"large",prefix:e.jsx(U,{}),placeholder:"ornek@email.com",autoComplete:"email"})}),e.jsx(l.Item,{children:e.jsx(z,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:d,children:"Kod Gönder"})}),e.jsx("div",{className:"forgot-password-footer",children:e.jsxs(F,{to:"/login",children:[e.jsx(E,{})," Giriş sayfasına dön"]})})]}),i===1&&e.jsxs(l,{form:r,layout:"vertical",onFinish:Y,className:"forgot-password-form",children:[e.jsx(A,{message:`Doğrulama kodu ${n} adresine gönderildi.`,type:"info",showIcon:!0,style:{marginBottom:24}}),e.jsx(l.Item,{name:"code",label:"Doğrulama Kodu",rules:[m.required("Doğrulama kodu zorunludur"),m.min(6,"Doğrulama kodu en az 6 karakter olmalıdır")],children:e.jsx(k,{size:"large",placeholder:"6 haneli kodu girin",maxLength:6})}),e.jsx(l.Item,{name:"password",label:"Yeni Şifre",rules:[m.required("Şifre zorunludur"),m.password()],children:e.jsx(k.Password,{size:"large",prefix:e.jsx(S,{}),placeholder:"Yeni şifrenizi girin"})}),e.jsx(l.Item,{name:"confirmPassword",label:"Şifre Tekrar",dependencies:["password"],rules:[m.required("Şifre tekrarı zorunludur"),({getFieldValue:c})=>({validator(u,N){return!N||c("password")===N?Promise.resolve():Promise.reject(new Error("Şifreler eşleşmiyor"))}})],children:e.jsx(k.Password,{size:"large",prefix:e.jsx(S,{}),placeholder:"Şifrenizi tekrar girin"})}),e.jsx(l.Item,{children:e.jsx(z,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:d,children:"Şifreyi Güncelle"})}),e.jsxs("div",{className:"forgot-password-footer",children:[e.jsx(z,{type:"link",onClick:K,disabled:d,children:"Kodu tekrar gönder"}),e.jsxs(F,{to:"/login",children:[e.jsx(E,{})," Giriş sayfasına dön"]})]})]}),i===2&&e.jsxs("div",{className:"forgot-password-success",children:[e.jsx("div",{className:"success-icon",children:"✓"}),e.jsx(G,{level:3,children:"Şifreniz Güncellendi!"}),e.jsx(L,{children:"Yeni şifreniz ile giriş yapabilirsiniz. Yönlendiriliyorsunuz..."}),e.jsx(z,{type:"primary",size:"large",onClick:()=>s("/login"),children:"Giriş Yap"})]})]})})})};export{V as ForgotPasswordPage,V as default};
