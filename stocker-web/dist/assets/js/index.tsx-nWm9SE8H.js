var e=Object.defineProperty,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(r,i,s)=>i in r?e(r,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[i]=s,l=(e,l)=>{for(var n in l||(l={}))i.call(l,n)&&a(e,n,l[n]);if(r)for(var n of r(l))s.call(l,n)&&a(e,n,l[n]);return e},n=(e,a)=>{var l={};for(var n in e)i.call(e,n)&&a.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&r)for(var n of r(e))a.indexOf(n)<0&&s.call(e,n)&&(l[n]=e[n]);return l},o=(e,r,i)=>new Promise((s,a)=>{var l=e=>{try{o(i.next(e))}catch(r){a(r)}},n=e=>{try{o(i.throw(e))}catch(r){a(r)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,n);o((i=i.apply(e,r)).next())});import{an as t,am as d,ah as c,j as u,O as m,F as f,Q as p,ai as h,ak as g,v as y,U as x,ao as j,J as w}from"./chunk-wvc3ueGk.js";import{u as k,r as b,L as v}from"./chunk-nBmrMGrr.js";import{f as z}from"./chunk-CZ40riKv.js";const P=new class{constructor(){var e;a(this,"symbol"!=typeof(e="defaultDuration")?e+"":e,4)}success(e,r){const i=r||{},{title:s="Başarılı"}=i,a=n(i,["title"]);t.success(l({message:s,description:e,duration:this.defaultDuration,placement:"topRight"},a))}error(e,r){const i=r||{},{title:s="Hata"}=i,a=n(i,["title"]);t.error(l({message:s,description:e,duration:this.defaultDuration,placement:"topRight"},a))}info(e,r){const i=r||{},{title:s="Bilgi"}=i,a=n(i,["title"]);t.info(l({message:s,description:e,duration:this.defaultDuration,placement:"topRight"},a))}warning(e,r){const i=r||{},{title:s="Uyarı"}=i,a=n(i,["title"]);t.warning(l({message:s,description:e,duration:this.defaultDuration,placement:"topRight"},a))}simpleSuccess(e){d.success(e)}simpleError(e){d.error(e)}simpleInfo(e){d.info(e)}simpleWarning(e){d.warning(e)}simpleLoading(e="Yükleniyor..."){return d.loading(e,0)}destroy(){t.destroy(),d.destroy()}},{Title:N,Text:D,Paragraph:T}=f,{Step:I}=p,O=()=>{const[e]=c.useForm(),[r]=c.useForm(),i=k(),[s,a]=b.useState(0),[l,n]=b.useState(""),[t,d]=b.useState(!1);return u.jsx("div",{className:"forgot-password-container",children:u.jsx("div",{className:"forgot-password-content",children:u.jsxs(m,{className:"forgot-password-card",children:[u.jsxs("div",{className:"forgot-password-header",children:[u.jsx(N,{level:2,children:"Şifremi Unuttum"}),u.jsxs(T,{type:"secondary",children:[0===s&&"Email adresinizi girin, size şifre sıfırlama kodu gönderelim.",1===s&&"Email adresinize gönderilen kodu girin ve yeni şifrenizi belirleyin.",2===s&&"Şifreniz başarıyla güncellendi!"]})]}),u.jsxs(p,{current:s,className:"forgot-password-steps",children:[u.jsx(I,{title:"Email"}),u.jsx(I,{title:"Doğrulama"}),u.jsx(I,{title:"Tamamlandı"})]}),0===s&&u.jsxs(c,{form:e,layout:"vertical",onFinish:e=>o(null,null,function*(){d(!0);try{yield new Promise(e=>setTimeout(e,1500)),P.success("Şifre sıfırlama kodu email adresinize gönderildi."),n(e.email),a(1)}catch(r){P.error("Kod gönderilirken bir hata oluştu. Lütfen tekrar deneyin.")}finally{d(!1)}}),className:"forgot-password-form",children:[u.jsx(c.Item,{name:"email",label:"Email Adresi",rules:[z.required("Email adresi zorunludur"),z.email("Geçerli bir email adresi giriniz")],children:u.jsx(h,{size:"large",prefix:u.jsx(g,{}),placeholder:"ornek@email.com",autoComplete:"email"})}),u.jsx(c.Item,{children:u.jsx(y,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:t,children:"Kod Gönder"})}),u.jsx("div",{className:"forgot-password-footer",children:u.jsxs(v,{to:"/login",children:[u.jsx(x,{})," Giriş sayfasına dön"]})})]}),1===s&&u.jsxs(c,{form:r,layout:"vertical",onFinish:e=>o(null,null,function*(){d(!0);try{yield new Promise(e=>setTimeout(e,1500)),P.success("Şifreniz başarıyla güncellendi. Giriş yapabilirsiniz."),a(2),setTimeout(()=>{i("/login")},2e3)}catch(e){P.error("Şifre güncellenirken bir hata oluştu. Lütfen tekrar deneyin.")}finally{d(!1)}}),className:"forgot-password-form",children:[u.jsx(j,{message:`Doğrulama kodu ${l} adresine gönderildi.`,type:"info",showIcon:!0,style:{marginBottom:24}}),u.jsx(c.Item,{name:"code",label:"Doğrulama Kodu",rules:[z.required("Doğrulama kodu zorunludur"),z.min(6,"Doğrulama kodu en az 6 karakter olmalıdır")],children:u.jsx(h,{size:"large",placeholder:"6 haneli kodu girin",maxLength:6})}),u.jsx(c.Item,{name:"password",label:"Yeni Şifre",rules:[z.required("Şifre zorunludur"),z.password()],children:u.jsx(h.Password,{size:"large",prefix:u.jsx(w,{}),placeholder:"Yeni şifrenizi girin"})}),u.jsx(c.Item,{name:"confirmPassword",label:"Şifre Tekrar",dependencies:["password"],rules:[z.required("Şifre tekrarı zorunludur"),({getFieldValue:e})=>({validator:(r,i)=>i&&e("password")!==i?Promise.reject(new Error("Şifreler eşleşmiyor")):Promise.resolve()})],children:u.jsx(h.Password,{size:"large",prefix:u.jsx(w,{}),placeholder:"Şifrenizi tekrar girin"})}),u.jsx(c.Item,{children:u.jsx(y,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:t,children:"Şifreyi Güncelle"})}),u.jsxs("div",{className:"forgot-password-footer",children:[u.jsx(y,{type:"link",onClick:()=>o(null,null,function*(){d(!0);try{yield new Promise(e=>setTimeout(e,1500)),P.success("Yeni kod gönderildi.")}catch(e){P.error("Kod gönderilirken bir hata oluştu.")}finally{d(!1)}}),disabled:t,children:"Kodu tekrar gönder"}),u.jsxs(v,{to:"/login",children:[u.jsx(x,{})," Giriş sayfasına dön"]})]})]}),2===s&&u.jsxs("div",{className:"forgot-password-success",children:[u.jsx("div",{className:"success-icon",children:"✓"}),u.jsx(N,{level:3,children:"Şifreniz Güncellendi!"}),u.jsx(T,{children:"Yeni şifreniz ile giriş yapabilirsiniz. Yönlendiriliyorsunuz..."}),u.jsx(y,{type:"primary",size:"large",onClick:()=>i("/login"),children:"Giriş Yap"})]})]})})})};export{O as ForgotPasswordPage,O as default};
