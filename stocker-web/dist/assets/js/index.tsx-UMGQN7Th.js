var e=Object.defineProperty,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(n,s,a)=>s in n?e(n,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[s]=a,i=(e,i)=>{for(var r in i||(i={}))s.call(i,r)&&l(e,r,i[r]);if(n)for(var r of n(i))a.call(i,r)&&l(e,r,i[r]);return e},r=(e,n,s)=>new Promise((a,l)=>{var i=e=>{try{o(s.next(e))}catch(n){l(n)}},r=e=>{try{o(s.throw(e))}catch(n){l(n)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(i,r);o((s=s.apply(e,n)).next())});import{F as o,ag as t,j as c,a2 as d,U as m,V as u,ab as p,e as h,J as x,R as j,_ as v,ao as y,ap as f,aj as g,aq as N,ar as b,G as k,as as S,at as z,i as w,am as P,Q as M}from"./chunk-CfgZmLZq.js";import{r as C,u as T}from"./chunk-nBmrMGrr.js";import{b as K}from"../index-yYvcgnW4.js";import{u as G}from"./chunk-DynkO40D.js";import"./chunk-BsETiAjl.js";import"./chunk-FkXcRIdw.js";const{Title:I,Text:B,Paragraph:E}=o,A=({onComplete:e,selectedPackage:n})=>{const[s]=t.useForm(),[a,l]=C.useState(0),[o,M]=C.useState(!1),[T,G]=C.useState({}),[I,B]=C.useState(""),[E,A]=C.useState([]),q=[{id:1,title:"Şirket Bilgileri",description:"İşletme detayları",icon:c.jsx(p,{})},{id:2,title:"Yetkili Bilgileri",description:"İletişim bilgileri",icon:c.jsx(h,{})},{id:3,title:"Hesap Güvenliği",description:"Şifre oluşturma",icon:c.jsx(x,{})}],R=[{key:"length",label:"En az 8 karakter",test:e=>e.length>=8},{key:"uppercase",label:"Büyük harf (A-Z)",test:e=>/[A-Z]/.test(e)},{key:"lowercase",label:"Küçük harf (a-z)",test:e=>/[a-z]/.test(e)},{key:"number",label:"Rakam (0-9)",test:e=>/\d/.test(e)},{key:"special",label:"Özel karakter (!@#$%)",test:e=>/[@$!%*?&]/.test(e)},{key:"noSpace",label:"Boşluk içermemeli",test:e=>!/\s/.test(e)}],D=s=>r(null,null,function*(){var a,l,i,r,o,t;M(!0);try{const[o,...t]=(null==(a=s.contactName)?void 0:a.split(" "))||["",""],c=t.join(" ")||o,d={companyName:s.companyName,companyCode:s.companyCode,identityType:s.identityType,identityNumber:s.identityNumber,sector:s.sector,employeeCount:s.employeeCount,contactName:s.contactName,contactEmail:s.email,contactPhone:s.phone,contactTitle:s.title,email:s.email,username:(null==(l=s.email)?void 0:l.split("@")[0])||s.companyCode,firstName:o,lastName:c,password:s.password,domain:s.companyCode,packageId:null==n?void 0:n.id,billingPeriod:"Monthly"},m=yield K.post("/api/public/register",d);(null==(i=m.data)?void 0:i.success)?(P.success("Kayıt başarılı! Yönlendiriliyorsunuz..."),e(m.data.data)):P.error((null==(r=m.data)?void 0:r.message)||"Kayıt başarısız")}catch(c){P.error((null==(t=null==(o=c.response)?void 0:o.data)?void 0:t.message)||"Bir hata oluştu")}finally{M(!1)}});return c.jsxs("div",{className:"neon-wizard-wrapper",children:[c.jsxs("div",{className:"floating-shapes",children:[c.jsx("div",{className:"shape shape-1"}),c.jsx("div",{className:"shape shape-2"}),c.jsx("div",{className:"shape shape-3"})]}),c.jsxs("div",{className:"neon-wizard-card",children:[c.jsxs("div",{className:"neon-wizard-sidebar",children:[c.jsxs("div",{className:"wizard-logo",children:[c.jsx("h2",{children:"Stocker"}),c.jsx("p",{children:"İşletme Yönetim Sistemi"})]}),c.jsx("div",{className:"neon-steps",children:q.map((e,n)=>c.jsxs("div",{className:`neon-step ${a===n?"active":""} ${E.includes(n)?"completed":""}`,onClick:()=>{var e;(e=n)<=Math.max(...E,0)+1&&l(e)},children:[c.jsx("div",{className:"neon-step-indicator",children:E.includes(n)&&a!==n?c.jsx(d,{className:"neon-step-check"}):c.jsx("span",{children:n+1})}),c.jsxs("div",{className:"neon-step-content",children:[c.jsx("h4",{children:e.title}),c.jsx("p",{children:e.description})]})]},e.id))})]}),c.jsxs("div",{className:"neon-wizard-content",children:[c.jsx("div",{className:"neon-progress-bar",children:c.jsx("div",{className:"neon-progress-fill",style:{width:(a+1)/q.length*100+"%"}})}),c.jsx(t,{form:s,layout:"vertical",autoComplete:"off",children:o?c.jsxs("div",{className:"neon-loading",children:[c.jsx("div",{className:"neon-spinner"}),c.jsx("div",{className:"neon-loading-text",children:"İşleminiz gerçekleştiriliyor..."})]}):(()=>{switch(a){case 0:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"neon-form-header",children:[c.jsx("h3",{children:"Şirket Bilgilerinizi Girin"}),c.jsx("p",{children:"İşletmenizin temel bilgilerini doldurun"})]}),c.jsxs("div",{className:"neon-form-body",children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(p,{className:"neon-form-label-icon"}),"Şirket Adı"]}),c.jsx(t.Item,{name:"companyName",rules:[{required:!0,message:"Şirket adı zorunludur"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsx("input",{className:"neon-input",placeholder:"ABC Teknoloji A.Ş."}),c.jsx(p,{className:"neon-input-icon"})]})})]}),c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(b,{className:"neon-form-label-icon"}),"Şirket Kodu"]}),c.jsx(t.Item,{name:"companyCode",rules:[{required:!0,message:"Şirket kodu zorunludur"},{pattern:/^[a-z0-9-]+$/,message:"Küçük harf, rakam ve tire"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsx("input",{className:"neon-input",placeholder:"abc-teknoloji"}),c.jsx(k,{className:"neon-input-icon"})]})})]})]}),c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(S,{className:"neon-form-label-icon"}),"Vergi Türü"]}),c.jsx(t.Item,{name:"identityType",initialValue:"vergi",rules:[{required:!0,message:"Vergi türü seçimi zorunludur"}],noStyle:!0,children:c.jsxs("div",{className:"neon-radio-group",children:[c.jsxs("div",{className:"neon-radio-button",children:[c.jsx("input",{type:"radio",id:"tc",name:"identityType",value:"tc"}),c.jsxs("label",{htmlFor:"tc",className:"neon-radio-label",onClick:()=>s.setFieldsValue({identityType:"tc"}),children:[c.jsx(S,{className:"neon-radio-icon"}),"Şahıs Şirketi"]})]}),c.jsxs("div",{className:"neon-radio-button",children:[c.jsx("input",{type:"radio",id:"vergi",name:"identityType",value:"vergi",defaultChecked:!0}),c.jsxs("label",{htmlFor:"vergi",className:"neon-radio-label",onClick:()=>s.setFieldsValue({identityType:"vergi"}),children:[c.jsx(z,{className:"neon-radio-icon"}),"Kurumsal"]})]})]})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(S,{className:"neon-form-label-icon"}),"TC Kimlik / Vergi No"]}),c.jsx(t.Item,{name:"identityNumber",rules:[{required:!0,message:"Bu alan zorunludur"},{pattern:/^\d{10,11}$/,message:"10-11 haneli olmalı"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsx("input",{className:"neon-input",placeholder:"12345678901",maxLength:11}),c.jsx(S,{className:"neon-input-icon"})]})})]}),c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(w,{className:"neon-form-label-icon"}),"Çalışan Sayısı"]}),c.jsx(t.Item,{name:"employeeCount",rules:[{required:!0,message:"Çalışan sayısı zorunludur"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsxs("select",{className:"neon-input neon-select",children:[c.jsx("option",{value:"",children:"Seçiniz"}),c.jsx("option",{value:"1-10",children:"1-10 Kişi"}),c.jsx("option",{value:"11-50",children:"11-50 Kişi"}),c.jsx("option",{value:"51-100",children:"51-100 Kişi"}),c.jsx("option",{value:"101-500",children:"101-500 Kişi"}),c.jsx("option",{value:"500+",children:"500+ Kişi"})]}),c.jsx(w,{className:"neon-input-icon"})]})})]})]}),c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(p,{className:"neon-form-label-icon"}),"Sektör"]}),c.jsx(t.Item,{name:"sector",rules:[{required:!0,message:"Sektör seçimi zorunludur"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsxs("select",{className:"neon-input neon-select",children:[c.jsx("option",{value:"",children:"Sektörünüzü seçin"}),c.jsx("option",{value:"Teknoloji",children:"💻 Teknoloji"}),c.jsx("option",{value:"Perakende",children:"🛍️ Perakende"}),c.jsx("option",{value:"Üretim",children:"🏭 Üretim"}),c.jsx("option",{value:"Hizmet",children:"🤝 Hizmet"}),c.jsx("option",{value:"İnşaat",children:"🏗️ İnşaat"}),c.jsx("option",{value:"Sağlık",children:"🏥 Sağlık"}),c.jsx("option",{value:"Eğitim",children:"🎓 Eğitim"}),c.jsx("option",{value:"Lojistik",children:"🚚 Lojistik"}),c.jsx("option",{value:"Gıda",children:"🍽️ Gıda"}),c.jsx("option",{value:"Diğer",children:"📋 Diğer"})]}),c.jsx(p,{className:"neon-input-icon"})]})})]})]})]});case 1:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"neon-form-header",children:[c.jsx("h3",{children:"Yetkili Bilgileri"}),c.jsx("p",{children:"İletişim ve yetkili kişi bilgilerini girin"})]}),c.jsxs("div",{className:"neon-form-body",children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(h,{className:"neon-form-label-icon"}),"Ad Soyad"]}),c.jsx(t.Item,{name:"contactName",rules:[{required:!0,message:"Ad soyad zorunludur"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsx("input",{className:"neon-input",placeholder:"Ahmet Yılmaz"}),c.jsx(h,{className:"neon-input-icon"})]})})]}),c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(f,{className:"neon-form-label-icon"}),"Unvan"]}),c.jsx(t.Item,{name:"title",rules:[{required:!0,message:"Unvan zorunludur"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsxs("select",{className:"neon-input neon-select",children:[c.jsx("option",{value:"",children:"Unvanınızı seçin"}),c.jsx("option",{value:"Genel Müdür",children:"Genel Müdür"}),c.jsx("option",{value:"İşletme Sahibi",children:"İşletme Sahibi"}),c.jsx("option",{value:"Müdür",children:"Müdür"}),c.jsx("option",{value:"Yönetici",children:"Yönetici"}),c.jsx("option",{value:"Muhasebe Müdürü",children:"Muhasebe Müdürü"}),c.jsx("option",{value:"IT Müdürü",children:"IT Müdürü"}),c.jsx("option",{value:"Satın Alma Müdürü",children:"Satın Alma Müdürü"}),c.jsx("option",{value:"İnsan Kaynakları",children:"İnsan Kaynakları"}),c.jsx("option",{value:"Diğer",children:"Diğer"})]}),c.jsx(f,{className:"neon-input-icon"})]})})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(g,{className:"neon-form-label-icon"}),"E-posta Adresi"]}),c.jsx(t.Item,{name:"email",rules:[{required:!0,message:"E-posta zorunludur"},{type:"email",message:"Geçerli bir e-posta girin"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsx("input",{type:"email",className:"neon-input",placeholder:"ahmet@sirket.com"}),c.jsx(g,{className:"neon-input-icon"})]})})]}),c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(N,{className:"neon-form-label-icon"}),"Telefon Numarası"]}),c.jsx(t.Item,{name:"phone",rules:[{required:!0,message:"Telefon zorunludur"},{pattern:/^[0-9]{10,11}$/,message:"Geçerli telefon girin"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsx("input",{className:"neon-input",placeholder:"5551234567",maxLength:11}),c.jsx(N,{className:"neon-input-icon"})]})})]})]}),c.jsxs("div",{className:"neon-info-box",children:[c.jsx(b,{className:"neon-info-icon"}),c.jsxs("div",{className:"neon-info-content",children:[c.jsx("h5",{children:"Önemli Bilgilendirme"}),c.jsx("p",{children:"E-posta adresiniz hem iletişim hem de sisteme giriş için kullanılacaktır. Lütfen aktif olarak kullandığınız bir e-posta adresi girin."})]})]})]})]});case 2:return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"neon-form-header",children:[c.jsx("h3",{children:"Hesap Güvenliği"}),c.jsx("p",{children:"Güçlü bir şifre oluşturarak hesabınızı koruyun"})]}),c.jsxs("div",{className:"neon-form-body",children:[c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(x,{className:"neon-form-label-icon"}),"Şifre"]}),c.jsx(t.Item,{name:"password",rules:[{required:!0,message:"Şifre zorunludur"},{min:8,message:"En az 8 karakter olmalı"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,message:"Şifre gereksinimleri karşılanmıyor"}],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsx("input",{type:"password",className:"neon-input",placeholder:"Güvenli şifreniz",onChange:e=>B(e.target.value)}),c.jsx(x,{className:"neon-input-icon"})]})})]}),c.jsxs("div",{className:"neon-form-group",children:[c.jsxs("label",{className:"neon-form-label",children:[c.jsx(x,{className:"neon-form-label-icon"}),"Şifre Tekrar"]}),c.jsx(t.Item,{name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"Şifre tekrarı zorunludur"},({getFieldValue:e})=>({validator:(n,s)=>s&&e("password")!==s?Promise.reject(new Error("Şifreler eşleşmiyor")):Promise.resolve()})],noStyle:!0,children:c.jsxs("div",{className:"neon-input-wrapper",children:[c.jsx("input",{type:"password",className:"neon-input",placeholder:"Şifrenizi tekrar girin"}),c.jsx(x,{className:"neon-input-icon"})]})})]})]}),I&&c.jsxs("div",{className:"neon-password-strength",children:[c.jsxs("div",{className:"neon-password-header",children:[c.jsx(j,{className:"neon-password-header-icon"}),c.jsx("h5",{children:"Şifre Gereksinimleri"})]}),c.jsx("div",{className:"neon-password-requirements",children:R.map(e=>c.jsxs("div",{className:"neon-requirement "+(e.test(I)?"valid":""),children:[e.test(I)?c.jsx(v,{className:"neon-requirement-icon"}):c.jsx(y,{className:"neon-requirement-icon"}),e.label]},e.key))})]}),n&&c.jsxs("div",{className:"neon-info-box",children:[c.jsx(v,{className:"neon-info-icon"}),c.jsxs("div",{className:"neon-info-content",children:[c.jsxs("h5",{children:["Seçili Paket: ",n.name]}),c.jsxs("p",{children:["Aylık ",n.price,"₺ ödeme ile başlayacaksınız. İlk 14 gün ücretsiz deneme süreniz bulunmaktadır."]})]})]})]})]});default:return null}})()}),c.jsxs("div",{className:"neon-wizard-footer",children:[c.jsxs("button",{className:"neon-btn neon-btn-secondary",onClick:()=>{l(a-1)},disabled:0===a,children:[c.jsx(m,{}),"Geri"]}),c.jsx("div",{className:"neon-step-dots",children:q.map((e,n)=>c.jsx("div",{className:"neon-dot "+(a===n?"active":"")},n))}),c.jsxs("button",{className:"neon-btn neon-btn-primary",onClick:()=>r(null,null,function*(){try{const e=yield s.validateFields(),n=i(i({},T),e);G(n),E.includes(a)||A([...E,a]),a===q.length-1?D(n):l(a+1)}catch(e){P.error("Lütfen tüm zorunlu alanları doldurun")}}),disabled:o,children:[a===q.length-1?"Kaydı Tamamla":"İleri",a<q.length-1&&c.jsx(u,{}),a===q.length-1&&c.jsx(d,{})]})]})]})]})]})},{Title:q,Text:R,Paragraph:D}=o,{Step:F}=M,U=()=>{T();const[e,n]=C.useState(0),[s,a]=C.useState([]),[l,i]=C.useState(null),[o,d]=C.useState("Monthly"),[m,u]=C.useState(!1),[p,h]=C.useState(!1),[x,j]=C.useState(!1),[v,y]=C.useState(null),[f,g]=C.useState(null),[N,b]=C.useState(""),[k,S]=C.useState(null),[z]=t.useForm(),{isConnected:w,passwordStrength:M}=G();C.useEffect(()=>{I()},[]),C.useEffect(()=>{w&&P.success("Real-time validation bağlantısı kuruldu",2)},[w]),C.useEffect(()=>{M&&g({score:M.score,level:M.level,isAcceptable:M.score>=3,feedback:M.suggestions})},[M]);const I=()=>r(null,null,function*(){var e,n;try{const s=yield K.get("/api/public/packages");if((null==(e=s.data)?void 0:e.success)&&(null==(n=s.data)?void 0:n.data)&&s.data.data.length>0){const e=s.data.data.map(e=>{var n,s,a,l;return{id:e.id,name:e.name,description:e.description,price:(null==(n=e.basePrice)?void 0:n.amount)||0,currency:(null==(s=e.basePrice)?void 0:s.currency)||e.currency||"₺",type:e.type,billingPeriod:"Monthly",features:(null==(a=e.features)?void 0:a.map(e=>e.featureName||e.name||e))||[],maxUsers:e.maxUsers||0,maxStorage:e.maxStorage||0,modules:(null==(l=e.modules)?void 0:l.map(e=>e.moduleName||e))||[],isPopular:"Professional"===e.type||e.isPopular,discount:e.discount||0,trialDays:e.trialDays||14}});a(e),e.length>0&&!l&&i(e[0])}else{const e=[{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",name:"Başlangıç",description:"Küçük işletmeler için ideal",price:499,currency:"₺",billingPeriod:"Monthly",features:["5 Kullanıcı","10 GB Depolama","CRM Modülü","Temel Raporlama","Email Desteği","Mobil Uygulama"],maxUsers:5,maxStorage:10,modules:["CRM"]},{id:"b2c3d4e5-f6a7-8901-bcde-f23456789012",name:"Profesyonel",description:"Büyüyen işletmeler için",price:999,currency:"₺",billingPeriod:"Monthly",features:["20 Kullanıcı","50 GB Depolama","CRM + Stok Modülü","Gelişmiş Raporlama","Öncelikli Destek","API Erişimi","Özel Eğitim"],maxUsers:20,maxStorage:50,modules:["CRM","Inventory"],isPopular:!0,discount:20},{id:"c3d4e5f6-a7b8-9012-cdef-345678901234",name:"Enterprise",description:"Büyük ölçekli işletmeler için",price:2499,currency:"₺",billingPeriod:"Monthly",features:["Sınırsız Kullanıcı","500 GB Depolama","Tüm Modüller","Özel Raporlama","7/24 Destek","Özel Entegrasyonlar","SLA Garantisi","Özel Sunucu Seçeneği"],maxUsers:-1,maxStorage:500,modules:["CRM","Inventory","Finance","HR","Projects"]}];a(e),e.length>0&&!l&&i(e[0])}}catch(s){P.error("Paketler API'den yüklenemedi, mock data kullanılıyor");const e=[{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",name:"Başlangıç",description:"Küçük işletmeler için ideal",price:499,currency:"₺",billingPeriod:"Monthly",features:["5 Kullanıcı","10 GB Depolama","CRM Modülü"],maxUsers:5,maxStorage:10,modules:["CRM"]},{id:"b2c3d4e5-f6a7-8901-bcde-f23456789012",name:"Profesyonel",description:"Büyüyen işletmeler için",price:999,currency:"₺",billingPeriod:"Monthly",features:["20 Kullanıcı","50 GB Depolama","Tüm Modüller"],maxUsers:20,maxStorage:50,modules:["CRM","Inventory"],isPopular:!0},{id:"c3d4e5f6-a7b8-9012-cdef-345678901234",name:"Enterprise",description:"Kurumsal çözümler",price:2499,currency:"₺",billingPeriod:"Monthly",features:["Sınırsız Kullanıcı","500 GB Depolama"],maxUsers:-1,maxStorage:500,modules:["CRM","Inventory","Finance"]}];a(e),e.length>0&&!l&&i(e[0])}}),B=e=>{y(e.id),P.success("Kayıt başarılı! Şimdi ödeme adımına geçiliyor..."),n(2)};return c.jsx(A,{onComplete:B,selectedPackage:l||{id:"default-package",name:"Profesyonel",price:999,currency:"₺"}})};export{U as RegisterPage};
