var e=Object.defineProperty,i=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(i,a,s)=>a in i?e(i,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[a]=s,t=(e,i,a)=>new Promise((s,r)=>{var l=e=>{try{t(a.next(e))}catch(i){r(i)}},n=e=>{try{t(a.throw(e))}catch(i){r(i)}},t=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,n);t((a=a.apply(e,i)).next())});import{j as o,S as d,F as c,aj as m,T as u,a2 as h,w as x,ak as y,al as p,am as j,an as g,M as k,N as v,B as f,O as b,v as z,$ as S,l as P,ao as N,K as M,ap as B,ae as T,o as w,aq as O,p as A,a4 as C,ar as E,as as I,a5 as G,s as K,i as R,at as D,au as F,e as q,a9 as Y,G as U,ag as V,k as $,aa as L,av as Z,aw as H,Q as _,ai as W,t as Q,R as J}from"./chunk-Cz43TWJs.js";import{r as X,u as ee}from"./chunk-nBmrMGrr.js";import{a as ie}from"../index-V8YrlZGm.js";import{u as ae}from"./chunk-Cx2gm1_8.js";import"./chunk-BsETiAjl.js";import"./chunk-FkXcRIdw.js";const{Text:se}=c,re=({password:e,username:i,email:a,onStrengthChange:s,showRequirements:r=!0,showSuggestions:l=!0})=>{const[n,c]=X.useState(null),[g,k]=X.useState([]);X.useEffect(()=>{const r=setTimeout(()=>t(null,null,function*(){var r,l,n;if(!e)return c(null),void k([]);try{const t=yield ie.post("/api/public/password/check-strength",{password:e});if(null==(r=t.data)?void 0:r.success){const e=t.data.data;c(e),null==s||s(e)}if(i||a){const s=yield ie.post("/api/public/password/validate",{password:e,username:i,email:a});(null==(l=s.data)?void 0:l.success)?k([]):k((null==(n=s.data)?void 0:n.errors)||[])}}catch(t){const i=v(e);c(i),null==s||s(i)}}),300);return()=>clearTimeout(r)},[e,i,a]);const v=e=>{let i=0;const a=[],s=[];e.length>=8&&i++,e.length>=12&&i++,e.length>=16&&i++,/[a-z]/.test(e)&&i++,/[A-Z]/.test(e)&&i++,/\d/.test(e)&&i++,/[!@#$%^&*()_+\-=\[\]{}|;:,.<>?]/.test(e)&&i++,i=Math.min(5,Math.floor(5*i/10)),e.length<8&&(a.push("Şifre çok kısa"),s.push("En az 8 karakter kullanın")),/[A-Z]/.test(e)||s.push("Büyük harf ekleyin"),/[a-z]/.test(e)||s.push("Küçük harf ekleyin"),/\d/.test(e)||s.push("Rakam ekleyin"),/[!@#$%^&*]/.test(e)||s.push("Özel karakter ekleyin");return{score:i,scoreLabel:["Çok Zayıf","Zayıf","Orta","Güçlü","Çok Güçlü","Mükemmel"][i]||"Bilinmiyor",entropy:4*e.length,feedback:a,suggestions:s,isAcceptable:i>=3}},f=e=>["#ff4d4f","#ff7a45","#ffa940","#52c41a","#52c41a","#389e0d"][e]||"#d9d9d9";return e?o.jsx("div",{className:"password-strength-container",children:o.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[o.jsxs("div",{className:"strength-meter",children:[o.jsxs(d,{children:[o.jsx(se,{type:"secondary",children:"Şifre Gücü:"}),n&&o.jsxs(o.Fragment,{children:[(b=n.score,b<=1?o.jsx(x,{style:{color:"#ff4d4f"}}):2===b?o.jsx(p,{style:{color:"#faad14"}}):o.jsx(h,{style:{color:"#52c41a"}})),o.jsx(se,{strong:!0,style:{color:f(n.score)},children:n.scoreLabel})]})]}),o.jsx(m,{percent:20*((null==n?void 0:n.score)||0),strokeColor:f((null==n?void 0:n.score)||0),showInfo:!1,size:"small"})]}),r&&o.jsx("div",{className:"requirements-list",children:o.jsx(d,{size:[8,4],wrap:!0,children:[{key:"length",label:"En az 8 karakter",test:e=>e.length>=8},{key:"uppercase",label:"En az 1 büyük harf",test:e=>/[A-Z]/.test(e)},{key:"lowercase",label:"En az 1 küçük harf",test:e=>/[a-z]/.test(e)},{key:"digit",label:"En az 1 rakam",test:e=>/\d/.test(e)},{key:"special",label:"En az 1 özel karakter (!@#$%^&*)",test:e=>/[!@#$%^&*()_+\-=\[\]{}|;:,.<>?]/.test(e)}].map(i=>{const a=i.test(e);return o.jsx(u,{icon:a?o.jsx(h,{}):o.jsx(x,{}),color:a?"success":"default",children:i.label},i.key)})})}),g.length>0&&o.jsx("div",{className:"validation-errors",children:g.map((e,i)=>o.jsxs(se,{type:"danger",style:{display:"block"},children:[o.jsx(x,{})," ",e.message]},i))}),l&&(null==n?void 0:n.suggestions)&&n.suggestions.length>0&&o.jsxs("div",{className:"suggestions",children:[o.jsxs(se,{type:"secondary",style:{fontSize:12},children:[o.jsx(y,{})," Öneriler:"]}),o.jsx("ul",{style:{margin:"4px 0 0 20px",padding:0},children:n.suggestions.map((e,i)=>o.jsx("li",{children:o.jsx(se,{type:"secondary",style:{fontSize:12},children:e})},i))})]}),(null==n?void 0:n.feedback)&&n.feedback.length>0&&o.jsx("div",{className:"feedback",children:n.feedback.map((e,i)=>o.jsxs(se,{type:"warning",style:{display:"block",fontSize:12},children:[o.jsx(p,{})," ",e]},i))}),n&&n.entropy>0&&o.jsx(j,{title:"Entropi, şifrenizin tahmin edilme zorluğunu gösterir. Yüksek entropi = daha güvenli",children:o.jsxs(se,{type:"secondary",style:{fontSize:11},children:["Entropi: ",Math.round(n.entropy)," bit"]})})]})}):null;var b},le=[{id:"crm",name:"CRM - Müşteri Yönetimi",description:"Müşteri ilişkileri, satış süreçleri ve fırsat yönetimi",price:149,category:"core",icon:"UserOutlined",features:["Müşteri ve firma kartları","İletişim geçmişi","Satış fırsatları takibi","Aktivite yönetimi","Müşteri segmentasyonu"],popular:!0},{id:"stock",name:"Stok Yönetimi",description:"Envanter takibi, depo yönetimi ve stok hareketleri",price:199,category:"core",icon:"InboxOutlined",required:!0,features:["Çoklu depo yönetimi","Stok hareket takibi","Minimum stok uyarıları","Barkod sistemi","Sayım ve envanter"]},{id:"accounting",name:"Muhasebe",description:"Fatura, cari hesap ve finansal raporlama",price:249,category:"core",icon:"CalculatorOutlined",required:!0,features:["Alış/Satış faturaları","Cari hesap takibi","Kasa ve banka işlemleri","KDV hesaplamaları","Mali müşavir entegrasyonu"]},{id:"hr",name:"İnsan Kaynakları",description:"Personel yönetimi, bordro ve izin takibi",price:179,category:"core",icon:"TeamOutlined",features:["Personel kartları","İzin ve devamsızlık takibi","Bordro hazırlama","Performans değerlendirme","Organizasyon şeması"]},{id:"ecommerce",name:"E-Ticaret",description:"Online satış kanalları ve marketplace entegrasyonları",price:299,category:"addon",icon:"ShoppingCartOutlined",popular:!0,features:["B2B/B2C satış portalı","Marketplace entegrasyonları","Ürün yönetimi","Sipariş takibi","Kargo entegrasyonu"]},{id:"production",name:"Üretim Planlama",description:"Üretim süreçleri, reçete ve iş emirleri",price:349,category:"addon",icon:"ToolOutlined",features:["Ürün reçeteleri","İş emirleri","Üretim planlama","Maliyet hesaplama","Kalite kontrol"]},{id:"project",name:"Proje Yönetimi",description:"Proje takibi, görev yönetimi ve zaman takibi",price:199,category:"addon",icon:"ProjectOutlined",features:["Proje planlama","Görev atama ve takibi","Gantt şeması","Zaman takibi","Kaynak yönetimi"]},{id:"logistics",name:"Lojistik",description:"Sevkiyat, rota optimizasyonu ve araç takibi",price:229,category:"addon",icon:"CarOutlined",features:["Sevkiyat planlama","Araç ve filo yönetimi","Rota optimizasyonu","Teslimat takibi","Nakliye faturaları"]},{id:"pos",name:"POS - Satış Noktası",description:"Mağaza satış sistemi ve kasa yönetimi",price:149,category:"addon",icon:"ShopOutlined",features:["Hızlı satış ekranı","Çoklu ödeme yöntemleri","Vardiya yönetimi","Z raporu","Offline çalışma"]},{id:"einvoice",name:"e-Fatura & e-Arşiv",description:"GİB entegrasyonu ve e-belge yönetimi",price:99,category:"integration",icon:"FileTextOutlined",features:["e-Fatura gönderimi","e-Arşiv fatura","e-İrsaliye","e-Müstahsil","GİB portal entegrasyonu"]},{id:"marketplace",name:"Marketplace Entegrasyonları",description:"Trendyol, Hepsiburada, Amazon entegrasyonları",price:199,category:"integration",icon:"ApiOutlined",features:["Trendyol entegrasyonu","Hepsiburada entegrasyonu","Amazon entegrasyonu","N11 entegrasyonu","Stok ve fiyat senkronizasyonu"]},{id:"banking",name:"Banka Entegrasyonları",description:"Otomatik banka mutabakatı ve pos entegrasyonu",price:149,category:"integration",icon:"BankOutlined",features:["Banka hesap hareketleri","Otomatik mutabakat","Sanal pos entegrasyonu","Toplu ödeme","Ekstre aktarımı"]},{id:"bi",name:"İş Zekası & Raporlama",description:"Gelişmiş raporlama ve veri analitiği",price:279,category:"integration",icon:"BarChartOutlined",features:["Özelleştirilebilir dashboardlar","Satış analizleri","Karlılık raporları","Trend analizleri","Veri görselleştirme"]}],ne=[{id:"starter",name:"Başlangıç",description:"1-10 kullanıcı",basePrice:99,userLimit:10,features:["10 GB depolama","Email desteği","Temel raporlar"]},{id:"professional",name:"Profesyonel",description:"11-50 kullanıcı",basePrice:199,userLimit:50,popular:!0,features:["100 GB depolama","Öncelikli destek","Gelişmiş raporlar","API erişimi"]},{id:"enterprise",name:"Kurumsal",description:"50+ kullanıcı",basePrice:499,userLimit:-1,features:["Sınırsız depolama","7/24 telefon desteği","Özel raporlar","Tam API erişimi","Özel eğitim"]}],te=e=>le.filter(i=>i.category===e),{Title:oe,Text:de,Paragraph:ce}=c,me={UserOutlined:o.jsx(q,{}),InboxOutlined:o.jsx(F,{}),CalculatorOutlined:o.jsx(D,{}),TeamOutlined:o.jsx(R,{}),ShoppingCartOutlined:o.jsx(K,{}),ToolOutlined:o.jsx(G,{}),ProjectOutlined:o.jsx(I,{}),CarOutlined:o.jsx(E,{}),ShopOutlined:o.jsx(C,{}),FileTextOutlined:o.jsx(A,{}),ApiOutlined:o.jsx(M,{}),BankOutlined:o.jsx(O,{}),BarChartOutlined:o.jsx(w,{})},ue=({onComplete:e,initialModules:i=[],initialPackage:a="starter"})=>{var s;const[r,l]=X.useState([...le.filter(e=>e.required).map(e=>e.id),...i]),[n,t]=X.useState(a),[c,m]=X.useState(0);X.useEffect(()=>{const e=((e,i)=>{const a=ne.find(e=>e.id===i);if(!a)return 0;const s=le.filter(i=>e.includes(i.id)).reduce((e,i)=>e+i.price,0);return a.basePrice+s})(r,n);m(e)},[r,n]);const x=e=>{const i=r.includes(e.id),a=e.icon?me[e.icon]:o.jsx(P,{});return o.jsx(b,{className:`module-card ${i?"selected":""} ${e.required?"required":""}`,hoverable:!e.required,style:{borderColor:i?"#667eea":void 0,borderWidth:i?2:1},children:o.jsxs("div",{style:{position:"relative"},children:[e.popular&&o.jsx(f.Ribbon,{text:"Popüler",color:"red"}),e.required&&o.jsx(u,{color:"blue",style:{position:"absolute",top:0,right:0},children:"Zorunlu"}),o.jsx(B,{checked:i,disabled:e.required,onChange:i=>((e,i)=>{const a=le.find(i=>i.id===e);!(null==a?void 0:a.required)||i?l(i?[...r,e]:r.filter(i=>i!==e)):T.warning("Bu modül zorunludur ve kaldırılamaz")})(e.id,i.target.checked),style:{position:"absolute",top:0,left:0}}),o.jsxs("div",{style:{textAlign:"center",marginTop:20},children:[o.jsx("div",{style:{fontSize:32,color:i?"#667eea":"#999",marginBottom:16},children:a}),o.jsx(oe,{level:5,style:{marginBottom:8},children:e.name}),o.jsx(ce,{type:"secondary",style:{fontSize:13,marginBottom:16},children:e.description}),o.jsxs("div",{style:{marginBottom:16},children:[o.jsxs(de,{strong:!0,style:{fontSize:24,color:"#667eea"},children:["₺",e.price]}),o.jsx(de,{type:"secondary",children:"/ay"})]}),o.jsxs("div",{style:{textAlign:"left"},children:[e.features.slice(0,3).map((e,i)=>o.jsxs("div",{style:{marginBottom:4},children:[o.jsx(h,{style:{color:"#52c41a",marginRight:6}}),o.jsx(de,{style:{fontSize:12},children:e})]},i)),e.features.length>3&&o.jsx(j,{title:o.jsx("div",{children:e.features.slice(3).map((e,i)=>o.jsx("div",{children:e},i))}),children:o.jsxs(de,{type:"secondary",style:{fontSize:12,cursor:"pointer"},children:["+",e.features.length-3," özellik daha..."]})})]})]})]})},e.id)};return o.jsxs("div",{className:"module-selection",children:[o.jsxs("div",{style:{marginBottom:48},children:[o.jsxs(oe,{level:3,children:[o.jsx(g,{})," Temel Paket Seçimi"]}),o.jsx(ce,{type:"secondary",children:"İşletmenizin büyüklüğüne uygun paketi seçin"}),o.jsx(k,{gutter:[24,24],children:ne.map(e=>o.jsx(v,{xs:24,md:8,children:o.jsx(f.Ribbon,{text:"Popüler",color:"red",style:{display:e.popular?"block":"none"},children:o.jsx(b,{hoverable:!0,className:"package-card "+(n===e.id?"selected":""),onClick:()=>{return i=e.id,void t(i);var i},style:{borderColor:n===e.id?"#667eea":void 0,borderWidth:n===e.id?2:1},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx(oe,{level:4,children:e.name}),o.jsx(de,{type:"secondary",children:e.description}),o.jsxs("div",{style:{margin:"20px 0"},children:[o.jsxs(de,{strong:!0,style:{fontSize:28,color:"#667eea"},children:["₺",e.basePrice]}),o.jsx(de,{type:"secondary",children:"/ay"})]}),o.jsx("div",{style:{textAlign:"left"},children:e.features.map((e,i)=>o.jsxs("div",{style:{marginBottom:8},children:[o.jsx(h,{style:{color:"#52c41a",marginRight:8}}),o.jsx(de,{children:e})]},i))}),o.jsx(z,{type:n===e.id?"primary":"default",block:!0,style:{marginTop:16},children:n===e.id?"Seçildi":"Seç"})]})})})},e.id))})]}),o.jsx(S,{}),o.jsxs("div",{style:{marginBottom:48},children:[o.jsxs(oe,{level:3,children:[o.jsx(P,{})," Temel Modüller"]}),o.jsx(ce,{type:"secondary",children:"İşletmenizin temel ihtiyaçlarını karşılayan modüller"}),o.jsx(k,{gutter:[16,16],children:te("core").map(e=>o.jsx(v,{xs:24,sm:12,md:8,lg:6,children:x(e)},e.id))})]}),o.jsxs("div",{style:{marginBottom:48},children:[o.jsxs(oe,{level:3,children:[o.jsx(N,{})," Eklenti Modüller"]}),o.jsx(ce,{type:"secondary",children:"İşletmenizi bir üst seviyeye taşıyacak özellikler"}),o.jsx(k,{gutter:[16,16],children:te("addon").map(e=>o.jsx(v,{xs:24,sm:12,md:8,lg:6,children:x(e)},e.id))})]}),o.jsxs("div",{style:{marginBottom:48},children:[o.jsxs(oe,{level:3,children:[o.jsx(M,{})," Entegrasyon Modülleri"]}),o.jsx(ce,{type:"secondary",children:"Diğer sistemlerle entegrasyon özellikleri"}),o.jsx(k,{gutter:[16,16],children:te("integration").map(e=>o.jsx(v,{xs:24,sm:12,md:8,lg:6,children:x(e)},e.id))})]}),o.jsx(b,{style:{position:"sticky",bottom:0,background:"#fff",borderRadius:"8px 8px 0 0",boxShadow:"0 -4px 12px rgba(0,0,0,0.1)",zIndex:10},children:o.jsxs(k,{align:"middle",justify:"space-between",children:[o.jsx(v,{children:o.jsxs(d,{size:"large",children:[o.jsxs("div",{children:[o.jsx(de,{type:"secondary",children:"Temel Paket:"}),o.jsx("br",{}),o.jsx(de,{strong:!0,style:{fontSize:18},children:null==(s=ne.find(e=>e.id===n))?void 0:s.name})]}),o.jsx(S,{type:"vertical",style:{height:40}}),o.jsxs("div",{children:[o.jsx(de,{type:"secondary",children:"Seçilen Modüller:"}),o.jsx("br",{}),o.jsxs(de,{strong:!0,style:{fontSize:18},children:[r.length," modül"]})]}),o.jsx(S,{type:"vertical",style:{height:40}}),o.jsxs("div",{children:[o.jsx(de,{type:"secondary",children:"Toplam Fiyat:"}),o.jsx("br",{}),o.jsxs(de,{strong:!0,style:{fontSize:24,color:"#667eea"},children:["₺",c,"/ay"]})]})]})}),o.jsx(v,{children:o.jsx(z,{type:"primary",size:"large",onClick:()=>{0!==r.length?e(r,n,c):T.error("En az bir modül seçmelisiniz")},disabled:0===r.length,children:"Devam Et"})})]})})]})},{Title:he,Text:xe,Paragraph:ye}=c,{Step:pe}=V,je=()=>{const e=ee(),[c,m]=X.useState(0),[u,x]=X.useState([]),[p,j]=X.useState(null),[g,f]=X.useState("Monthly"),[P,N]=X.useState(!1),[M,w]=X.useState(!1),[O,A]=X.useState(!1),[C,E]=X.useState(null),[I,G]=X.useState(null),[R,D]=X.useState(""),[F,se]=X.useState(null),[le]=Y.useForm(),{isConnected:ne,emailValidation:te,passwordStrength:oe,domainCheck:de,phoneValidation:ce,companyNameCheck:me,validateEmail:ye,checkPasswordStrength:pe,checkDomain:je,validatePhone:ge,checkCompanyName:ke}=ae();X.useEffect(()=>{ve()},[]),X.useEffect(()=>{ne&&T.success("Real-time validation bağlantısı kuruldu",2)},[ne]),X.useEffect(()=>{oe&&G({score:oe.score,level:oe.level,isAcceptable:oe.score>=3,feedback:oe.suggestions})},[oe]);const ve=()=>t(null,null,function*(){var e,i;try{const a=yield ie.get("/api/public/packages");if((null==(e=a.data)?void 0:e.success)&&(null==(i=a.data)?void 0:i.data)&&a.data.data.length>0){const e=a.data.data.map(e=>{var i,a,s,r;return{id:e.id,name:e.name,description:e.description,price:(null==(i=e.basePrice)?void 0:i.amount)||0,currency:(null==(a=e.basePrice)?void 0:a.currency)||e.currency||"₺",type:e.type,billingPeriod:"Monthly",features:(null==(s=e.features)?void 0:s.map(e=>e.featureName||e.name||e))||[],maxUsers:e.maxUsers||0,maxStorage:e.maxStorage||0,modules:(null==(r=e.modules)?void 0:r.map(e=>e.moduleName||e))||[],isPopular:"Professional"===e.type||e.isPopular,discount:e.discount||0,trialDays:e.trialDays||14}});x(e),e.length>0&&!p&&j(e[0])}else{const e=[{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",name:"Başlangıç",description:"Küçük işletmeler için ideal",price:499,currency:"₺",billingPeriod:"Monthly",features:["5 Kullanıcı","10 GB Depolama","CRM Modülü","Temel Raporlama","Email Desteği","Mobil Uygulama"],maxUsers:5,maxStorage:10,modules:["CRM"]},{id:"b2c3d4e5-f6a7-8901-bcde-f23456789012",name:"Profesyonel",description:"Büyüyen işletmeler için",price:999,currency:"₺",billingPeriod:"Monthly",features:["20 Kullanıcı","50 GB Depolama","CRM + Stok Modülü","Gelişmiş Raporlama","Öncelikli Destek","API Erişimi","Özel Eğitim"],maxUsers:20,maxStorage:50,modules:["CRM","Inventory"],isPopular:!0,discount:20},{id:"c3d4e5f6-a7b8-9012-cdef-345678901234",name:"Enterprise",description:"Büyük ölçekli işletmeler için",price:2499,currency:"₺",billingPeriod:"Monthly",features:["Sınırsız Kullanıcı","500 GB Depolama","Tüm Modüller","Özel Raporlama","7/24 Destek","Özel Entegrasyonlar","SLA Garantisi","Özel Sunucu Seçeneği"],maxUsers:-1,maxStorage:500,modules:["CRM","Inventory","Finance","HR","Projects"]}];x(e),e.length>0&&!p&&j(e[0])}}catch(a){T.error("Paketler API'den yüklenemedi, mock data kullanılıyor");const e=[{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",name:"Başlangıç",description:"Küçük işletmeler için ideal",price:499,currency:"₺",billingPeriod:"Monthly",features:["5 Kullanıcı","10 GB Depolama","CRM Modülü"],maxUsers:5,maxStorage:10,modules:["CRM"]},{id:"b2c3d4e5-f6a7-8901-bcde-f23456789012",name:"Profesyonel",description:"Büyüyen işletmeler için",price:999,currency:"₺",billingPeriod:"Monthly",features:["20 Kullanıcı","50 GB Depolama","Tüm Modüller"],maxUsers:20,maxStorage:50,modules:["CRM","Inventory"],isPopular:!0},{id:"c3d4e5f6-a7b8-9012-cdef-345678901234",name:"Enterprise",description:"Kurumsal çözümler",price:2499,currency:"₺",billingPeriod:"Monthly",features:["Sınırsız Kullanıcı","500 GB Depolama"],maxUsers:-1,maxStorage:500,modules:["CRM","Inventory","Finance"]}];x(e),e.length>0&&!p&&j(e[0])}}),fe=(e,i,a)=>{se({selectedModules:e,basePackage:i,totalPrice:a}),m(1)},be=e=>t(null,null,function*(){var t,o,d,c,u,h,x;N(!0);try{const c=(h=((e,i)=>{for(var a in i||(i={}))r.call(i,a)&&n(e,a,i[a]);if(s)for(var a of s(i))l.call(i,a)&&n(e,a,i[a]);return e})({},e),x={domain:`${e.companyCode}.stocker.app`,packageId:null==p?void 0:p.id,billingPeriod:g},i(h,a(x))),u=yield ie.post("/api/public/register",c);(null==(t=u.data)?void 0:t.success)&&(null==(d=null==(o=u.data)?void 0:o.data)?void 0:d.id)?(E(u.data.data.id),T.success("Kayıt başarılı! Şimdi ödeme adımına geçiliyor..."),m(2)):T.error("Kayıt sırasında bir hata oluştu")}catch(y){T.error((null==(u=null==(c=y.response)?void 0:c.data)?void 0:u.message)||"Kayıt işlemi başarısız")}finally{N(!1)}}),ze=i=>t(null,null,function*(){if(!C)return T.error("Kayıt bilgileri bulunamadı. Lütfen önce kayıt işlemini tamamlayın."),void m(1);const a=new URLSearchParams({tenantId:C,packageId:(null==p?void 0:p.id)||"",package:(null==p?void 0:p.name)||"",amount:Se().toString(),period:g,company:le.getFieldValue("companyName"),email:le.getFieldValue("contactEmail"),method:i});e(`/payment?${a.toString()}`)}),Se=()=>{if(F){let e=F.totalPrice;return"Yearly"===g&&(e=12*e*.8),Math.floor(e)}if(!p||!p.price)return 0;let e=p.price;return"Yearly"===g&&(e=12*e*.8),p.discount&&(e*=1-p.discount/100),Math.floor(e)};return o.jsxs("div",{className:"register-page",children:[o.jsx("div",{className:"register-header",children:o.jsxs("div",{className:"container",children:[o.jsxs(d,{size:"large",children:[o.jsx(U,{style:{fontSize:32,color:"#667eea"}}),o.jsx(he,{level:2,style:{margin:0,color:"#fff"},children:"Stocker'a Kayıt Ol"})]}),o.jsx(z,{type:"default",ghost:!0,onClick:()=>e("/login"),style:{position:"absolute",right:24,top:"50%",transform:"translateY(-50%)"},children:"Zaten hesabım var"})]})}),o.jsx("div",{className:"register-content",children:o.jsxs("div",{className:"container",children:[o.jsx(V,{current:c,style:{marginBottom:48},items:[{title:"Modül Seçimi",icon:o.jsx(K,{})},{title:"Bilgi Girişi",icon:o.jsx(q,{})},{title:"Ödeme",icon:o.jsx($,{})}]}),0===c&&o.jsx(ue,{onComplete:fe,initialModules:null==F?void 0:F.selectedModules,initialPackage:null==F?void 0:F.basePackage}),1===c&&o.jsxs(k,{gutter:[48,24],children:[o.jsx(v,{xs:24,md:16,children:o.jsxs(b,{children:[o.jsx(he,{level:3,children:"Hesap Bilgileri"}),o.jsxs(Y,{form:le,layout:"vertical",onFinish:be,autoComplete:"off",children:[o.jsx(he,{level:5,children:"Şirket Bilgileri"}),o.jsxs(k,{gutter:16,children:[o.jsx(v,{span:12,children:o.jsx(Y.Item,{name:"companyName",label:"Şirket Adı",rules:[{required:!0,message:"Şirket adı zorunludur"}],validateStatus:me?me.isValid?"success":"error":"",help:null==me?void 0:me.message,children:o.jsx(L,{placeholder:"Örnek: ABC Teknoloji A.Ş.",onChange:e=>{const i=e.target.value;i&&i.length>2&&ke(i)}})})}),o.jsx(v,{span:12,children:o.jsx(Y.Item,{name:"companyCode",label:"Şirket Kodu",rules:[{required:!0,message:"Şirket kodu zorunludur"},{pattern:/^[a-z0-9-]+$/,message:"Sadece küçük harf, rakam ve tire kullanın"}],tooltip:"URL'de kullanılacak benzersiz kod",validateStatus:de?de.isAvailable?"success":"error":"",help:(null==de?void 0:de.message)||(null==de?void 0:de.suggestions)&&`Öneriler: ${de.suggestions.join(", ")}`,children:o.jsx(L,{placeholder:"ornek-sirket",addonAfter:".stocker.app",onChange:e=>{const i=e.target.value;i&&i.length>2&&je(`${i}.stocker.app`)}})})})]}),o.jsx(S,{}),o.jsx(he,{level:5,children:"İletişim Bilgileri"}),o.jsxs(k,{gutter:16,children:[o.jsx(v,{span:12,children:o.jsx(Y.Item,{name:"contactName",label:"Yetkili Adı Soyadı",rules:[{required:!0,message:"Yetkili adı zorunludur"}],children:o.jsx(L,{placeholder:"Ad Soyad"})})}),o.jsx(v,{span:12,children:o.jsx(Y.Item,{name:"contactPhone",label:"Telefon",rules:[{required:!0,message:"Telefon zorunludur"}],validateStatus:ce?ce.isValid?"success":"error":"",help:null==ce?void 0:ce.message,children:o.jsx(L,{placeholder:"+90 555 123 4567",onChange:e=>{const i=e.target.value;i&&i.length>6&&ge(i,"TR")}})})})]}),o.jsx(Y.Item,{name:"contactEmail",label:"E-posta",rules:[{required:!0,message:"E-posta zorunludur"},{type:"email",message:"Geçerli bir e-posta giriniz"}],validateStatus:te?te.isValid?"success":"error":"",help:null==te?void 0:te.message,children:o.jsx(L,{placeholder:"yetkili@sirket.com",onChange:e=>{const i=e.target.value;i&&i.includes("@")&&ye(i)}})}),o.jsx(S,{}),o.jsx(he,{level:5,children:"Adres Bilgileri"}),o.jsx(Y.Item,{name:"address",label:"Adres",children:o.jsx(L.TextArea,{rows:2,placeholder:"Açık adres"})}),o.jsxs(k,{gutter:16,children:[o.jsx(v,{span:12,children:o.jsx(Y.Item,{name:"city",label:"Şehir",children:o.jsx(L,{placeholder:"İstanbul"})})}),o.jsx(v,{span:12,children:o.jsx(Y.Item,{name:"country",label:"Ülke",children:o.jsxs(Z,{defaultValue:"TR",children:[o.jsx(Z.Option,{value:"TR",children:"Türkiye"}),o.jsx(Z.Option,{value:"US",children:"Amerika"}),o.jsx(Z.Option,{value:"DE",children:"Almanya"})]})})})]}),o.jsx(S,{}),o.jsx(he,{level:5,children:"Giriş Bilgileri"}),o.jsxs(k,{gutter:16,children:[o.jsx(v,{span:12,children:o.jsx(Y.Item,{name:"password",label:o.jsxs(d,{children:["Şifre",o.jsx(H,{content:o.jsxs("div",{style:{width:300},children:[o.jsx(he,{level:5,children:"Güvenli Şifre Oluşturma"}),o.jsx(_,{size:"small",dataSource:["En az 8 karakter uzunluğunda","Büyük ve küçük harf içermeli","En az bir rakam içermeli","Özel karakter kullanın (!@#$%^&*)","Kişisel bilgilerinizi kullanmayın","Yaygın kelimelerden kaçının"],renderItem:e=>o.jsxs(_.Item,{style:{padding:"4px 0"},children:[o.jsx(h,{style:{color:"#52c41a",marginRight:8}}),e]})})]}),trigger:"hover",children:o.jsx(y,{style:{cursor:"pointer",color:"#1890ff"}})})]}),rules:[{required:!0,message:"Şifre zorunludur"},{min:8,message:"Şifre en az 8 karakter olmalıdır"},()=>({validator:(e,i)=>i&&I&&!I.isAcceptable?Promise.reject(new Error('Şifre güvenlik seviyesi yetersiz. En az "Güçlü" seviyesinde olmalıdır.')):Promise.resolve()})],extra:R&&o.jsx(re,{password:R,username:le.getFieldValue("contactEmail"),email:le.getFieldValue("contactEmail"),onStrengthChange:G}),children:o.jsx(L.Password,{placeholder:"Güçlü bir şifre oluşturun",onChange:e=>{const i=e.target.value;D(i),i&&pe(i)}})})}),o.jsx(v,{span:12,children:o.jsx(Y.Item,{name:"confirmPassword",label:"Şifre Tekrar",dependencies:["password"],rules:[{required:!0,message:"Şifre tekrarı zorunludur"},({getFieldValue:e})=>({validator:(i,a)=>a&&e("password")!==a?Promise.reject(new Error("Şifreler eşleşmiyor")):Promise.resolve()})],children:o.jsx(L.Password,{placeholder:"Şifre tekrar"})})})]}),o.jsx(Y.Item,{name:"terms",valuePropName:"checked",rules:[{validator:(e,i)=>i?Promise.resolve():Promise.reject(new Error("Sözleşmeyi kabul etmelisiniz"))}],children:o.jsxs(B,{children:[o.jsx("a",{href:"#",target:"_blank",children:"Kullanım Şartları"})," ve"," ",o.jsx("a",{href:"#",target:"_blank",children:"Gizlilik Politikası"}),"'nı okudum ve kabul ediyorum"]})}),o.jsx(z,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:P,disabled:!ne||R&&I&&!I.isAcceptable,children:ne?R&&I&&!I.isAcceptable?"Güvenli bir şifre oluşturun":"Kayıt Ol ve Ödeme Adımına Geç":"Bağlantı kuruluyor..."})]})]})}),o.jsx(v,{xs:24,md:8,children:o.jsx("div",{className:"order-summary-container",children:o.jsxs(d,{direction:"vertical",style:{width:"100%"},size:16,children:[o.jsxs(b,{className:"order-summary",children:[o.jsx(he,{level:4,children:"Sipariş Özeti"}),F?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Temel Paket:"}),o.jsx(xe,{strong:!0,children:F.basePackage})]}),o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Seçilen Modüller:"}),o.jsxs(xe,{strong:!0,children:[F.selectedModules.length," modül"]})]}),o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Dönem:"}),o.jsx(xe,{strong:!0,children:"Monthly"===g?"Aylık":"Yıllık"})]}),o.jsx(S,{}),o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Aylık Tutar:"}),o.jsxs(xe,{children:["₺",F.totalPrice]})]}),"Yearly"===g&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Yıllık İndirim:"}),o.jsx(xe,{type:"success",children:"%20"})]})}),o.jsx(S,{}),o.jsxs("div",{className:"summary-total",children:[o.jsx(he,{level:5,children:"Toplam"}),o.jsxs("div",{className:"total-amount",children:[o.jsx(xe,{className:"currency",children:"₺"}),o.jsx(xe,{className:"amount",children:Se()}),o.jsxs(xe,{className:"period",children:["/","Monthly"===g?"ay":"yıl"]})]})]}),o.jsx(W,{message:"14 Gün Ücretsiz Deneme",description:"İlk 14 gün ücretsiz kullanın. İstediğiniz zaman iptal edebilirsiniz.",type:"info",showIcon:!0,style:{marginTop:16}})]}):p&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Paket:"}),o.jsx(xe,{strong:!0,children:p.name})]}),o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Dönem:"}),o.jsx(xe,{strong:!0,children:"Monthly"===g?"Aylık":"Yıllık"})]}),o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Kullanıcı:"}),o.jsx(xe,{strong:!0,children:-1===p.maxUsers?"Sınırsız":`${p.maxUsers} Kullanıcı`})]}),o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Depolama:"}),o.jsxs(xe,{strong:!0,children:[p.maxStorage," GB"]})]}),o.jsx(S,{}),o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Aylık Tutar:"}),o.jsxs(xe,{children:[p.currency,p.price]})]}),"Yearly"===g&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Yıllık İndirim:"}),o.jsx(xe,{type:"success",children:"%20"})]})}),p.discount&&o.jsxs("div",{className:"summary-item",children:[o.jsx(xe,{children:"Özel İndirim:"}),o.jsxs(xe,{type:"success",children:["%",p.discount]})]}),o.jsx(S,{}),o.jsxs("div",{className:"summary-total",children:[o.jsx(he,{level:5,children:"Toplam"}),o.jsxs("div",{className:"total-amount",children:[o.jsx(xe,{className:"currency",children:p.currency}),o.jsx(xe,{className:"amount",children:p.price||0}),o.jsxs(xe,{className:"period",children:["/","Monthly"===g?"ay":"yıl"]})]})]}),o.jsx(W,{message:"14 Gün Ücretsiz Deneme",description:"İlk 14 gün ücretsiz kullanın. İstediğiniz zaman iptal edebilirsiniz.",type:"info",showIcon:!0,style:{marginTop:16}})]})]}),o.jsx(b,{children:o.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[o.jsxs(d,{children:[o.jsx(h,{style:{color:"#52c41a"}}),o.jsx(xe,{children:"SSL ile güvenli ödeme"})]}),o.jsxs(d,{children:[o.jsx(h,{style:{color:"#52c41a"}}),o.jsx(xe,{children:"Anında aktivasyon"})]}),o.jsxs(d,{children:[o.jsx(h,{style:{color:"#52c41a"}}),o.jsx(xe,{children:"7/24 destek"})]}),o.jsxs(d,{children:[o.jsx(h,{style:{color:"#52c41a"}}),o.jsx(xe,{children:"İstediğiniz zaman iptal"})]}),ne&&o.jsxs(d,{children:[o.jsx(h,{style:{color:"#52c41a"}}),o.jsx(xe,{children:"Real-time validation aktif"})]})]})})]})})})]}),2===c&&o.jsx("div",{className:"payment-section",children:o.jsx(k,{gutter:[48,24],justify:"center",children:o.jsx(v,{xs:24,md:16,children:o.jsxs(b,{children:[o.jsxs(he,{level:3,children:[o.jsx($,{})," Ödeme Bilgileri"]}),M?o.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[o.jsx(Q,{size:"large"}),o.jsx(he,{level:4,style:{marginTop:24},children:"Ödeme işleniyor..."}),o.jsx(xe,{type:"secondary",children:"Lütfen bekleyin, ödemeniz güvenli bir şekilde işleniyor."})]}):o.jsxs(o.Fragment,{children:[o.jsx(W,{message:"Kayıt Başarılı!",description:`Tenant ID: ${C}. Şimdi ödeme yaparak hesabınızı aktifleştirin.`,type:"info",showIcon:!0,style:{marginBottom:24}}),o.jsxs("div",{className:"payment-methods",children:[o.jsx(he,{level:5,children:"Ödeme Yöntemi Seçin"}),o.jsxs(k,{gutter:[16,16],children:[o.jsx(v,{span:12,children:o.jsx(b,{hoverable:!0,className:"payment-method-card",onClick:()=>ze("credit_card"),children:o.jsxs(d,{direction:"vertical",align:"center",style:{width:"100%"},children:[o.jsx($,{style:{fontSize:48,color:"#667eea"}}),o.jsx(xe,{strong:!0,children:"Kredi Kartı"}),o.jsx(xe,{type:"secondary",children:"Visa, Mastercard, Amex"})]})})}),o.jsx(v,{span:12,children:o.jsx(b,{hoverable:!0,className:"payment-method-card",onClick:()=>ze("bank_transfer"),children:o.jsxs(d,{direction:"vertical",align:"center",style:{width:"100%"},children:[o.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2830/2830284.png",alt:"Bank Transfer",style:{width:48,height:48}}),o.jsx(xe,{strong:!0,children:"Banka Havalesi / EFT"}),o.jsx(xe,{type:"secondary",children:"3 iş günü içinde"})]})})})]})]}),o.jsx(S,{}),o.jsxs("div",{className:"payment-summary",children:[o.jsx(he,{level:5,children:"Ödeme Özeti"}),o.jsxs("div",{className:"summary-details",children:[o.jsxs("div",{className:"summary-row",children:[o.jsx(xe,{children:"Şirket:"}),o.jsx(xe,{strong:!0,children:le.getFieldValue("companyName")})]}),o.jsxs("div",{className:"summary-row",children:[o.jsx(xe,{children:"Paket:"}),o.jsx(xe,{strong:!0,children:null==p?void 0:p.name})]}),o.jsxs("div",{className:"summary-row",children:[o.jsx(xe,{children:"Dönem:"}),o.jsx(xe,{strong:!0,children:"Monthly"===g?"Aylık":"Yıllık"})]}),o.jsx(S,{}),o.jsxs("div",{className:"summary-row total",children:[o.jsx(he,{level:5,children:"Toplam Tutar:"}),o.jsxs(he,{level:4,style:{color:"#667eea",margin:0},children:[null==p?void 0:p.currency,Se()]})]})]})]}),o.jsx(W,{message:"Güvenli Ödeme",description:"Ödeme bilgileriniz 256-bit SSL şifreleme ile korunmaktadır.",type:"success",showIcon:!0,icon:o.jsx(J,{}),style:{marginTop:24}})]})]})})})})]})})]})};export{je as RegisterPage};
