var e=Object.defineProperty,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(i,a,s)=>a in i?e(i,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[a]=s,l=(e,l)=>{for(var n in l||(l={}))a.call(l,n)&&r(e,n,l[n]);if(i)for(var n of i(l))s.call(l,n)&&r(e,n,l[n]);return e},n=(e,i,a)=>new Promise((s,r)=>{var l=e=>{try{t(a.next(e))}catch(i){r(i)}},n=e=>{try{t(a.throw(e))}catch(i){r(i)}},t=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,n);t((a=a.apply(e,i)).next())});import{j as t,F as d,X as c,M as o,N as m,B as u,O as x,_ as h,v as p,Y as j,l as y,ao as g,K as f,S as v,T as k,ap as b,aq as z,am as S,o as N,ar as w,p as P,ab as O,as as M,at as B,ac as T,s as C,i as K,a1 as A,au as E,e as G,ag as I,Q as R,t as q,x as D,U as F,a2 as L,V as U,J as Y,ah as V,R as H,av as $,aw as Z,ax as W,aj as _,ay as J,an as Q,az as X,aA as ee,aB as ie,G as ae,k as se}from"./chunk-BKiBcwD8.js";import{r as re,u as le}from"./chunk-nBmrMGrr.js";import{b as ne}from"../index-DvFJre66.js";import{u as te}from"./chunk-T7agzyUD.js";import"./chunk-BsETiAjl.js";import"./chunk-FkXcRIdw.js";const de=[{id:"crm",name:"CRM - Müşteri Yönetimi",description:"Müşteri ilişkileri, satış süreçleri ve fırsat yönetimi",price:149,category:"core",icon:"UserOutlined",features:["Müşteri ve firma kartları","İletişim geçmişi","Satış fırsatları takibi","Aktivite yönetimi","Müşteri segmentasyonu"],popular:!0},{id:"stock",name:"Stok Yönetimi",description:"Envanter takibi, depo yönetimi ve stok hareketleri",price:199,category:"core",icon:"InboxOutlined",required:!0,features:["Çoklu depo yönetimi","Stok hareket takibi","Minimum stok uyarıları","Barkod sistemi","Sayım ve envanter"]},{id:"accounting",name:"Muhasebe",description:"Fatura, cari hesap ve finansal raporlama",price:249,category:"core",icon:"CalculatorOutlined",required:!0,features:["Alış/Satış faturaları","Cari hesap takibi","Kasa ve banka işlemleri","KDV hesaplamaları","Mali müşavir entegrasyonu"]},{id:"hr",name:"İnsan Kaynakları",description:"Personel yönetimi, bordro ve izin takibi",price:179,category:"core",icon:"TeamOutlined",features:["Personel kartları","İzin ve devamsızlık takibi","Bordro hazırlama","Performans değerlendirme","Organizasyon şeması"]},{id:"ecommerce",name:"E-Ticaret",description:"Online satış kanalları ve marketplace entegrasyonları",price:299,category:"addon",icon:"ShoppingCartOutlined",popular:!0,features:["B2B/B2C satış portalı","Marketplace entegrasyonları","Ürün yönetimi","Sipariş takibi","Kargo entegrasyonu"]},{id:"production",name:"Üretim Planlama",description:"Üretim süreçleri, reçete ve iş emirleri",price:349,category:"addon",icon:"ToolOutlined",features:["Ürün reçeteleri","İş emirleri","Üretim planlama","Maliyet hesaplama","Kalite kontrol"]},{id:"project",name:"Proje Yönetimi",description:"Proje takibi, görev yönetimi ve zaman takibi",price:199,category:"addon",icon:"ProjectOutlined",features:["Proje planlama","Görev atama ve takibi","Gantt şeması","Zaman takibi","Kaynak yönetimi"]},{id:"logistics",name:"Lojistik",description:"Sevkiyat, rota optimizasyonu ve araç takibi",price:229,category:"addon",icon:"CarOutlined",features:["Sevkiyat planlama","Araç ve filo yönetimi","Rota optimizasyonu","Teslimat takibi","Nakliye faturaları"]},{id:"pos",name:"POS - Satış Noktası",description:"Mağaza satış sistemi ve kasa yönetimi",price:149,category:"addon",icon:"ShopOutlined",features:["Hızlı satış ekranı","Çoklu ödeme yöntemleri","Vardiya yönetimi","Z raporu","Offline çalışma"]},{id:"einvoice",name:"e-Fatura & e-Arşiv",description:"GİB entegrasyonu ve e-belge yönetimi",price:99,category:"integration",icon:"FileTextOutlined",features:["e-Fatura gönderimi","e-Arşiv fatura","e-İrsaliye","e-Müstahsil","GİB portal entegrasyonu"]},{id:"marketplace",name:"Marketplace Entegrasyonları",description:"Trendyol, Hepsiburada, Amazon entegrasyonları",price:199,category:"integration",icon:"ApiOutlined",features:["Trendyol entegrasyonu","Hepsiburada entegrasyonu","Amazon entegrasyonu","N11 entegrasyonu","Stok ve fiyat senkronizasyonu"]},{id:"banking",name:"Banka Entegrasyonları",description:"Otomatik banka mutabakatı ve pos entegrasyonu",price:149,category:"integration",icon:"BankOutlined",features:["Banka hesap hareketleri","Otomatik mutabakat","Sanal pos entegrasyonu","Toplu ödeme","Ekstre aktarımı"]},{id:"bi",name:"İş Zekası & Raporlama",description:"Gelişmiş raporlama ve veri analitiği",price:279,category:"integration",icon:"BarChartOutlined",features:["Özelleştirilebilir dashboardlar","Satış analizleri","Karlılık raporları","Trend analizleri","Veri görselleştirme"]}],ce=[{id:"starter",name:"Başlangıç",description:"1-10 kullanıcı",basePrice:99,userLimit:10,features:["10 GB depolama","Email desteği","Temel raporlar"]},{id:"professional",name:"Profesyonel",description:"11-50 kullanıcı",basePrice:199,userLimit:50,popular:!0,features:["100 GB depolama","Öncelikli destek","Gelişmiş raporlar","API erişimi"]},{id:"enterprise",name:"Kurumsal",description:"50+ kullanıcı",basePrice:499,userLimit:-1,features:["Sınırsız depolama","7/24 telefon desteği","Özel raporlar","Tam API erişimi","Özel eğitim"]}],oe=e=>de.filter(i=>i.category===e),{Title:me,Text:ue,Paragraph:xe}=d,he={UserOutlined:t.jsx(G,{}),InboxOutlined:t.jsx(E,{}),CalculatorOutlined:t.jsx(A,{}),TeamOutlined:t.jsx(K,{}),ShoppingCartOutlined:t.jsx(C,{}),ToolOutlined:t.jsx(T,{}),ProjectOutlined:t.jsx(B,{}),CarOutlined:t.jsx(M,{}),ShopOutlined:t.jsx(O,{}),FileTextOutlined:t.jsx(P,{}),ApiOutlined:t.jsx(f,{}),BankOutlined:t.jsx(w,{}),BarChartOutlined:t.jsx(N,{})},pe=({onComplete:e,initialModules:i=[],initialPackage:a="starter"})=>{var s;const[r,l]=re.useState([...de.filter(e=>e.required).map(e=>e.id),...i]),[n,d]=re.useState(a),[N,w]=re.useState(0);re.useEffect(()=>{const e=((e,i)=>{const a=ce.find(e=>e.id===i);if(!a)return 0;const s=de.filter(i=>e.includes(i.id)).reduce((e,i)=>e+i.price,0);return a.basePrice+s})(r,n);w(e)},[r,n]);const P=e=>{const i=r.includes(e.id),a=e.icon?he[e.icon]:t.jsx(y,{});return t.jsx(x,{className:`module-card ${i?"selected":""} ${e.required?"required":""}`,hoverable:!e.required,style:{borderColor:i?"#667eea":void 0,borderWidth:i?2:1},children:t.jsxs("div",{style:{position:"relative"},children:[e.popular&&t.jsx(u.Ribbon,{text:"Popüler",color:"red"}),e.required&&t.jsx(k,{color:"blue",style:{position:"absolute",top:0,right:0},children:"Zorunlu"}),t.jsx(b,{checked:i,disabled:e.required,onChange:i=>((e,i)=>{const a=de.find(i=>i.id===e);!(null==a?void 0:a.required)||i?l(i?[...r,e]:r.filter(i=>i!==e)):S.warning("Bu modül zorunludur ve kaldırılamaz")})(e.id,i.target.checked),style:{position:"absolute",top:0,left:0}}),t.jsxs("div",{style:{textAlign:"center",marginTop:20},children:[t.jsx("div",{style:{fontSize:32,color:i?"#667eea":"#999",marginBottom:16},children:a}),t.jsx(me,{level:5,style:{marginBottom:8},children:e.name}),t.jsx(xe,{type:"secondary",style:{fontSize:13,marginBottom:16},children:e.description}),t.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"center",alignItems:"baseline",flexWrap:"wrap"},children:[t.jsxs(ue,{strong:!0,style:{fontSize:20,color:"#667eea"},children:["₺",e.price]}),t.jsx(ue,{type:"secondary",style:{fontSize:14,marginLeft:4},children:"/ay"})]}),t.jsxs("div",{style:{textAlign:"left"},children:[e.features.slice(0,3).map((e,i)=>t.jsxs("div",{style:{marginBottom:4},children:[t.jsx(h,{style:{color:"#52c41a",marginRight:6}}),t.jsx(ue,{style:{fontSize:12},children:e})]},i)),e.features.length>3&&t.jsx(z,{title:t.jsx("div",{children:e.features.slice(3).map((e,i)=>t.jsx("div",{children:e},i))}),children:t.jsxs(ue,{type:"secondary",style:{fontSize:12,cursor:"pointer"},children:["+",e.features.length-3," özellik daha..."]})})]})]})]})},e.id)};return t.jsxs("div",{className:"module-selection",children:[t.jsxs("div",{style:{marginBottom:48},children:[t.jsxs(me,{level:3,children:[t.jsx(c,{})," Temel Paket Seçimi"]}),t.jsx(xe,{type:"secondary",children:"İşletmenizin büyüklüğüne uygun paketi seçin"}),t.jsx(o,{gutter:[24,24],children:ce.map(e=>t.jsx(m,{xs:24,md:8,children:t.jsx(u.Ribbon,{text:"Popüler",color:"red",style:{display:e.popular?"block":"none"},children:t.jsx(x,{hoverable:!0,className:"package-card "+(n===e.id?"selected":""),onClick:()=>{return i=e.id,void d(i);var i},style:{borderColor:n===e.id?"#667eea":void 0,borderWidth:n===e.id?2:1},children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx(me,{level:4,children:e.name}),t.jsx(ue,{type:"secondary",children:e.description}),t.jsxs("div",{style:{margin:"20px 0",display:"flex",justifyContent:"center",alignItems:"baseline",flexWrap:"wrap"},children:[t.jsxs(ue,{strong:!0,style:{fontSize:24,color:"#667eea"},children:["₺",e.basePrice]}),t.jsx(ue,{type:"secondary",style:{fontSize:14,marginLeft:4},children:"/ay"})]}),t.jsx("div",{style:{textAlign:"left"},children:e.features.map((e,i)=>t.jsxs("div",{style:{marginBottom:8},children:[t.jsx(h,{style:{color:"#52c41a",marginRight:8}}),t.jsx(ue,{children:e})]},i))}),t.jsx(p,{type:n===e.id?"primary":"default",block:!0,style:{marginTop:16},children:n===e.id?"Seçildi":"Seç"})]})})})},e.id))})]}),t.jsx(j,{}),t.jsxs("div",{style:{marginBottom:48},children:[t.jsxs(me,{level:3,children:[t.jsx(y,{})," Temel Modüller"]}),t.jsx(xe,{type:"secondary",children:"İşletmenizin temel ihtiyaçlarını karşılayan modüller"}),t.jsx(o,{gutter:[16,16],children:oe("core").map(e=>t.jsx(m,{xs:24,sm:12,md:8,lg:6,children:P(e)},e.id))})]}),t.jsxs("div",{style:{marginBottom:48},children:[t.jsxs(me,{level:3,children:[t.jsx(g,{})," Eklenti Modüller"]}),t.jsx(xe,{type:"secondary",children:"İşletmenizi bir üst seviyeye taşıyacak özellikler"}),t.jsx(o,{gutter:[16,16],children:oe("addon").map(e=>t.jsx(m,{xs:24,sm:12,md:8,lg:6,children:P(e)},e.id))})]}),t.jsxs("div",{style:{marginBottom:48},children:[t.jsxs(me,{level:3,children:[t.jsx(f,{})," Entegrasyon Modülleri"]}),t.jsx(xe,{type:"secondary",children:"Diğer sistemlerle entegrasyon özellikleri"}),t.jsx(o,{gutter:[16,16],children:oe("integration").map(e=>t.jsx(m,{xs:24,sm:12,md:8,lg:6,children:P(e)},e.id))})]}),t.jsx(x,{style:{position:"sticky",bottom:0,background:"#fff",borderRadius:"8px 8px 0 0",boxShadow:"0 -4px 12px rgba(0,0,0,0.1)",zIndex:10},children:t.jsxs(o,{align:"middle",justify:"space-between",children:[t.jsx(m,{children:t.jsxs(v,{size:"large",children:[t.jsxs("div",{children:[t.jsx(ue,{type:"secondary",children:"Temel Paket:"}),t.jsx("br",{}),t.jsx(ue,{strong:!0,style:{fontSize:18},children:null==(s=ce.find(e=>e.id===n))?void 0:s.name})]}),t.jsx(j,{type:"vertical",style:{height:40}}),t.jsxs("div",{children:[t.jsx(ue,{type:"secondary",children:"Seçilen Modüller:"}),t.jsx("br",{}),t.jsxs(ue,{strong:!0,style:{fontSize:18},children:[r.length," modül"]})]}),t.jsx(j,{type:"vertical",style:{height:40}}),t.jsxs("div",{children:[t.jsx(ue,{type:"secondary",children:"Toplam Fiyat:"}),t.jsx("br",{}),t.jsxs(ue,{strong:!0,style:{fontSize:24,color:"#667eea"},children:["₺",N,"/ay"]})]})]})}),t.jsx(m,{children:t.jsx(p,{type:"primary",size:"large",onClick:()=>{0!==r.length?e(r,n,N):S.error("En az bir modül seçmelisiniz")},disabled:0===r.length,children:"Devam Et"})})]})})]})},{Title:je,Text:ye,Paragraph:ge}=d,{Step:fe}=R,ve=({onComplete:e,selectedPackage:i})=>{const[a]=I.useForm(),[s,r]=re.useState(0),[d,c]=re.useState(!1),[u,j]=re.useState({}),[y,g]=re.useState(""),f=[{title:"Şirket Bilgileri",icon:t.jsx(O,{}),description:"Şirket detaylarınızı girin"},{title:"Yetkili Bilgileri",icon:t.jsx(G,{}),description:"İletişim bilgilerinizi girin"},{title:"Hesap Güvenliği",icon:t.jsx(Y,{}),description:"Giriş bilgilerinizi oluşturun"}],k=[{key:"length",label:"En az 8 karakter",test:e=>e.length>=8},{key:"uppercase",label:"En az 1 büyük harf",test:e=>/[A-Z]/.test(e)},{key:"lowercase",label:"En az 1 küçük harf",test:e=>/[a-z]/.test(e)},{key:"number",label:"En az 1 rakam",test:e=>/\d/.test(e)},{key:"special",label:"En az 1 özel karakter",test:e=>/[@$!%*?&]/.test(e)}],b=a=>n(null,null,function*(){var s,r,l,n,t,d;c(!0);try{const[t,...d]=(null==(s=a.contactName)?void 0:s.split(" "))||["",""],c=d.join(" ")||t,o={companyName:a.companyName,companyCode:a.companyCode,identityType:a.identityType,identityNumber:a.identityNumber,sector:a.sector,employeeCount:a.employeeCount,contactName:a.contactName,contactEmail:a.email,contactPhone:a.phone,contactTitle:a.title,email:a.email,username:(null==(r=a.email)?void 0:r.split("@")[0])||a.companyCode,firstName:t,lastName:c,password:a.password,domain:a.companyCode,packageId:null==i?void 0:i.id,billingPeriod:"Monthly"},m=yield ne.post("/api/public/register",o);(null==(l=m.data)?void 0:l.success)?(S.success("Kayıt başarılı! Yönlendiriliyorsunuz..."),e(m.data.data)):S.error((null==(n=m.data)?void 0:n.message)||"Kayıt başarısız")}catch(o){S.error((null==(d=null==(t=o.response)?void 0:t.data)?void 0:d.message)||"Bir hata oluştu")}finally{c(!1)}});return t.jsx("div",{className:"register-wizard-container",children:t.jsxs(x,{className:"wizard-card",children:[t.jsxs("div",{className:"wizard-header",children:[t.jsx("h2",{children:"Stocker'a Hoş Geldiniz"}),t.jsx("p",{children:"İşletmenizi dijitalleştirmek için doğru yerdesiniz"})]}),t.jsx("div",{className:"step-progress-bar",children:t.jsx("div",{className:"step-progress-fill",style:{width:(s+1)/f.length*100+"%"}})}),t.jsx("div",{className:"wizard-steps",children:t.jsx(R,{current:s,children:f.map((e,i)=>t.jsx(fe,{title:e.title,description:e.description,icon:e.icon},i))})}),t.jsx(I,{form:a,layout:"vertical",autoComplete:"off",className:"wizard-form",children:t.jsx("div",{className:"wizard-form-content",children:d?t.jsx("div",{className:"wizard-loading",children:t.jsx(q,{size:"large",indicator:t.jsx(D,{style:{fontSize:48},spin:!0})})}):(()=>{switch(s){case 0:return t.jsxs("div",{className:"form-section",children:[t.jsxs("div",{className:"form-section-title",children:[t.jsx(O,{}),t.jsx("h3",{children:"Şirket Bilgileri"})]}),t.jsxs(o,{gutter:[24,0],children:[t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"companyName",label:"Şirket Adı",className:"wizard-form-item",rules:[{required:!0,message:"Şirket adı zorunludur"}],children:t.jsx(V,{size:"large",prefix:t.jsx(O,{className:"field-icon"}),placeholder:"ABC Teknoloji A.Ş."})})}),t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"companyCode",label:t.jsxs(v,{children:["Şirket Kodu",t.jsx(z,{title:"URL'de kullanılacak benzersiz kod",children:t.jsx(X,{className:"wizard-tooltip"})})]}),className:"wizard-form-item",rules:[{required:!0,message:"Şirket kodu zorunludur"},{pattern:/^[a-z0-9-]+$/,message:"Küçük harf, rakam ve tire kullanın"}],children:t.jsx(V,{size:"large",placeholder:"abc-teknoloji",addonAfter:".stocker.app"})})})]}),t.jsxs(o,{gutter:[24,0],children:[t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"identityType",label:"Vergi Türü",className:"wizard-form-item",rules:[{required:!0,message:"Vergi türü seçimi zorunludur"}],initialValue:"vergi",children:t.jsxs(ee.Group,{size:"large",className:"identity-type-selector",children:[t.jsx(ee.Button,{value:"tc",children:t.jsxs(v,{children:[t.jsx(ie,{}),"Şahıs Şirketi"]})}),t.jsx(ee.Button,{value:"vergi",children:t.jsxs(v,{children:[t.jsx(w,{}),"Kurumsal"]})})]})})}),t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"identityNumber",label:"TC Kimlik / Vergi No",className:"wizard-form-item",rules:[{required:!0,message:"Bu alan zorunludur"},{pattern:/^\d{10,11}$/,message:"10-11 haneli olmalı"}],children:t.jsx(V,{size:"large",prefix:t.jsx(ie,{className:"field-icon"}),placeholder:"12345678901",maxLength:11})})})]}),t.jsxs(o,{gutter:[24,0],children:[t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"sector",label:"Sektör",className:"wizard-form-item",rules:[{required:!0,message:"Sektör seçimi zorunludur"}],children:t.jsxs(Z,{size:"large",placeholder:"Sektörünüzü seçin",className:"sector-select",children:[t.jsx(Z.Option,{value:"Teknoloji",children:t.jsxs(v,{children:[t.jsx("span",{children:"💻"}),t.jsx("span",{children:"Teknoloji"})]})}),t.jsx(Z.Option,{value:"Perakende",children:t.jsxs(v,{children:[t.jsx("span",{children:"🛍️"}),t.jsx("span",{children:"Perakende"})]})}),t.jsx(Z.Option,{value:"Üretim",children:t.jsxs(v,{children:[t.jsx("span",{children:"🏭"}),t.jsx("span",{children:"Üretim"})]})}),t.jsx(Z.Option,{value:"Hizmet",children:t.jsxs(v,{children:[t.jsx("span",{children:"🤝"}),t.jsx("span",{children:"Hizmet"})]})}),t.jsx(Z.Option,{value:"İnşaat",children:t.jsxs(v,{children:[t.jsx("span",{children:"🏗️"}),t.jsx("span",{children:"İnşaat"})]})}),t.jsx(Z.Option,{value:"Sağlık",children:t.jsxs(v,{children:[t.jsx("span",{children:"🏥"}),t.jsx("span",{children:"Sağlık"})]})}),t.jsx(Z.Option,{value:"Eğitim",children:t.jsxs(v,{children:[t.jsx("span",{children:"🎓"}),t.jsx("span",{children:"Eğitim"})]})}),t.jsx(Z.Option,{value:"Lojistik",children:t.jsxs(v,{children:[t.jsx("span",{children:"🚚"}),t.jsx("span",{children:"Lojistik"})]})}),t.jsx(Z.Option,{value:"Gıda",children:t.jsxs(v,{children:[t.jsx("span",{children:"🍽️"}),t.jsx("span",{children:"Gıda"})]})}),t.jsx(Z.Option,{value:"Diğer",children:t.jsxs(v,{children:[t.jsx("span",{children:"📋"}),t.jsx("span",{children:"Diğer"})]})})]})})}),t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"employeeCount",label:"Çalışan Sayısı",className:"wizard-form-item",rules:[{required:!0,message:"Çalışan sayısı zorunludur"}],children:t.jsxs(Z,{size:"large",placeholder:"Çalışan sayınızı seçin",children:[t.jsx(Z.Option,{value:"1-10",children:t.jsxs(v,{children:[t.jsx(K,{}),t.jsx("span",{children:"1-10 Kişi"})]})}),t.jsx(Z.Option,{value:"11-50",children:t.jsxs(v,{children:[t.jsx(K,{}),t.jsx("span",{children:"11-50 Kişi"})]})}),t.jsx(Z.Option,{value:"51-100",children:t.jsxs(v,{children:[t.jsx(K,{}),t.jsx("span",{children:"51-100 Kişi"})]})}),t.jsx(Z.Option,{value:"101-500",children:t.jsxs(v,{children:[t.jsx(K,{}),t.jsx("span",{children:"101-500 Kişi"})]})}),t.jsx(Z.Option,{value:"500+",children:t.jsxs(v,{children:[t.jsx(K,{}),t.jsx("span",{children:"500+ Kişi"})]})})]})})})]})]});case 1:return t.jsxs("div",{className:"form-section",children:[t.jsxs("div",{className:"form-section-title",children:[t.jsx(G,{}),t.jsx("h3",{children:"Yetkili Bilgileri"})]}),t.jsxs(o,{gutter:[24,0],children:[t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"contactName",label:"Ad Soyad",className:"wizard-form-item",rules:[{required:!0,message:"Ad soyad zorunludur"}],children:t.jsx(V,{size:"large",prefix:t.jsx(G,{className:"field-icon"}),placeholder:"Ahmet Yılmaz"})})}),t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"title",label:"Unvan",className:"wizard-form-item",rules:[{required:!0,message:"Unvan zorunludur"}],children:t.jsxs(Z,{size:"large",placeholder:"Unvanınızı seçin",children:[t.jsx(Z.Option,{value:"Genel Müdür",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"Genel Müdür"})]})}),t.jsx(Z.Option,{value:"İşletme Sahibi",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"İşletme Sahibi"})]})}),t.jsx(Z.Option,{value:"Müdür",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"Müdür"})]})}),t.jsx(Z.Option,{value:"Yönetici",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"Yönetici"})]})}),t.jsx(Z.Option,{value:"Muhasebe Müdürü",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"Muhasebe Müdürü"})]})}),t.jsx(Z.Option,{value:"IT Müdürü",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"IT Müdürü"})]})}),t.jsx(Z.Option,{value:"Satın Alma Müdürü",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"Satın Alma Müdürü"})]})}),t.jsx(Z.Option,{value:"İnsan Kaynakları",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"İnsan Kaynakları"})]})}),t.jsx(Z.Option,{value:"Diğer",children:t.jsxs(v,{children:[t.jsx(W,{}),t.jsx("span",{children:"Diğer"})]})})]})})})]}),t.jsxs(o,{gutter:[24,0],children:[t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"email",label:"E-posta",className:"wizard-form-item",rules:[{required:!0,message:"E-posta zorunludur"},{type:"email",message:"Geçerli bir e-posta girin"}],children:t.jsx(V,{size:"large",prefix:t.jsx(_,{className:"field-icon"}),placeholder:"ahmet@sirket.com"})})}),t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"phone",label:"Telefon",className:"wizard-form-item",rules:[{required:!0,message:"Telefon zorunludur"},{pattern:/^[0-9]{10,11}$/,message:"Geçerli telefon girin"}],children:t.jsx(V,{size:"large",prefix:t.jsx(J,{className:"field-icon"}),placeholder:"5551234567",maxLength:11})})})]}),t.jsx(Q,{message:"Önemli Bilgilendirme",description:"Bu e-posta adresiniz hem iletişim hem de sisteme giriş için kullanılacaktır. Lütfen aktif olarak kullandığınız bir e-posta adresi girin.",type:"info",showIcon:!0,className:"wizard-info-alert",icon:t.jsx(X,{})})]});case 2:return t.jsxs("div",{className:"form-section",children:[t.jsxs("div",{className:"form-section-title",children:[t.jsx(Y,{}),t.jsx("h3",{children:"Hesap Güvenliği"})]}),t.jsxs(o,{gutter:[24,0],children:[t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"password",label:"Şifre",className:"wizard-form-item",rules:[{required:!0,message:"Şifre zorunludur"},{min:8,message:"En az 8 karakter olmalı"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,message:"Şifre gereksinimleri karşılanmıyor"}],children:t.jsx(V.Password,{size:"large",prefix:t.jsx(Y,{className:"field-icon"}),placeholder:"Güvenli şifreniz",onChange:e=>g(e.target.value)})})}),t.jsx(m,{xs:24,md:12,children:t.jsx(I.Item,{name:"confirmPassword",label:"Şifre Tekrar",className:"wizard-form-item",dependencies:["password"],rules:[{required:!0,message:"Şifre tekrarı zorunludur"},({getFieldValue:e})=>({validator:(i,a)=>a&&e("password")!==a?Promise.reject(new Error("Şifreler eşleşmiyor")):Promise.resolve()})],children:t.jsx(V.Password,{size:"large",prefix:t.jsx(Y,{className:"field-icon"}),placeholder:"Şifrenizi tekrar girin"})})})]}),y&&t.jsxs("div",{className:"password-requirements",children:[t.jsxs("div",{className:"password-requirements-title",children:[t.jsx(H,{})," Şifre Gereksinimleri"]}),k.map(e=>t.jsxs("div",{className:"password-requirement-item "+(e.test(y)?"fulfilled":""),children:[e.test(y)?t.jsx(h,{style:{color:"#52c41a"}}):t.jsx($,{style:{color:"#ff4d4f"}}),t.jsx("span",{children:e.label})]},e.key))]}),i&&t.jsxs("div",{className:"wizard-summary",children:[t.jsxs("div",{className:"wizard-summary-item",children:[t.jsx("span",{className:"wizard-summary-label",children:"Seçili Paket:"}),t.jsx("span",{className:"wizard-summary-value",children:i.name})]}),t.jsxs("div",{className:"wizard-summary-item",children:[t.jsx("span",{className:"wizard-summary-label",children:"Aylık Ücret:"}),t.jsxs("span",{className:"wizard-summary-value",children:[i.price,"₺"]})]}),t.jsxs("div",{className:"wizard-summary-item",children:[t.jsx("span",{className:"wizard-summary-label",children:"Deneme Süresi:"}),t.jsx("span",{className:"wizard-summary-value",children:"14 Gün Ücretsiz"})]})]})]});default:return null}})()})}),t.jsx("div",{className:"wizard-footer",children:t.jsxs("div",{className:"wizard-footer-content",children:[t.jsx(p,{size:"large",onClick:()=>{r(s-1)},disabled:0===s,className:"wizard-btn wizard-btn-secondary",icon:t.jsx(F,{}),children:"Geri"}),t.jsx(v,{size:8,children:[...Array(f.length)].map((e,i)=>t.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:i===s?"#667eea":"#e8e8e8",transition:"all 0.3s ease"}},i))}),t.jsx(p,{type:"primary",size:"large",loading:d,onClick:()=>n(null,null,function*(){try{const e=yield a.validateFields(),i=l(l({},u),e);j(i),s===f.length-1?b(i):r(s+1)}catch(e){S.error("Lütfen tüm zorunlu alanları doldurun")}}),className:"wizard-btn wizard-btn-primary",icon:s===f.length-1?t.jsx(L,{}):t.jsx(U,{}),children:s===f.length-1?"Kaydı Tamamla":"İleri"})]})})]})})},{Title:ke,Text:be,Paragraph:ze}=d,{Step:Se}=R,Ne=()=>{const e=le(),[i,a]=re.useState(0),[s,r]=re.useState([]),[l,d]=re.useState(null),[c,u]=re.useState("Monthly"),[h,y]=re.useState(!1),[g,f]=re.useState(!1),[k,b]=re.useState(!1),[z,N]=re.useState(null),[w,P]=re.useState(null),[O,M]=re.useState(""),[B,T]=re.useState(null),[K]=I.useForm(),{isConnected:A,passwordStrength:E}=te();re.useEffect(()=>{D()},[]),re.useEffect(()=>{A&&S.success("Real-time validation bağlantısı kuruldu",2)},[A]),re.useEffect(()=>{E&&P({score:E.score,level:E.level,isAcceptable:E.score>=3,feedback:E.suggestions})},[E]);const D=()=>n(null,null,function*(){var e,i;try{const a=yield ne.get("/api/public/packages");if((null==(e=a.data)?void 0:e.success)&&(null==(i=a.data)?void 0:i.data)&&a.data.data.length>0){const e=a.data.data.map(e=>{var i,a,s,r;return{id:e.id,name:e.name,description:e.description,price:(null==(i=e.basePrice)?void 0:i.amount)||0,currency:(null==(a=e.basePrice)?void 0:a.currency)||e.currency||"₺",type:e.type,billingPeriod:"Monthly",features:(null==(s=e.features)?void 0:s.map(e=>e.featureName||e.name||e))||[],maxUsers:e.maxUsers||0,maxStorage:e.maxStorage||0,modules:(null==(r=e.modules)?void 0:r.map(e=>e.moduleName||e))||[],isPopular:"Professional"===e.type||e.isPopular,discount:e.discount||0,trialDays:e.trialDays||14}});r(e),e.length>0&&!l&&d(e[0])}else{const e=[{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",name:"Başlangıç",description:"Küçük işletmeler için ideal",price:499,currency:"₺",billingPeriod:"Monthly",features:["5 Kullanıcı","10 GB Depolama","CRM Modülü","Temel Raporlama","Email Desteği","Mobil Uygulama"],maxUsers:5,maxStorage:10,modules:["CRM"]},{id:"b2c3d4e5-f6a7-8901-bcde-f23456789012",name:"Profesyonel",description:"Büyüyen işletmeler için",price:999,currency:"₺",billingPeriod:"Monthly",features:["20 Kullanıcı","50 GB Depolama","CRM + Stok Modülü","Gelişmiş Raporlama","Öncelikli Destek","API Erişimi","Özel Eğitim"],maxUsers:20,maxStorage:50,modules:["CRM","Inventory"],isPopular:!0,discount:20},{id:"c3d4e5f6-a7b8-9012-cdef-345678901234",name:"Enterprise",description:"Büyük ölçekli işletmeler için",price:2499,currency:"₺",billingPeriod:"Monthly",features:["Sınırsız Kullanıcı","500 GB Depolama","Tüm Modüller","Özel Raporlama","7/24 Destek","Özel Entegrasyonlar","SLA Garantisi","Özel Sunucu Seçeneği"],maxUsers:-1,maxStorage:500,modules:["CRM","Inventory","Finance","HR","Projects"]}];r(e),e.length>0&&!l&&d(e[0])}}catch(a){S.error("Paketler API'den yüklenemedi, mock data kullanılıyor");const e=[{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",name:"Başlangıç",description:"Küçük işletmeler için ideal",price:499,currency:"₺",billingPeriod:"Monthly",features:["5 Kullanıcı","10 GB Depolama","CRM Modülü"],maxUsers:5,maxStorage:10,modules:["CRM"]},{id:"b2c3d4e5-f6a7-8901-bcde-f23456789012",name:"Profesyonel",description:"Büyüyen işletmeler için",price:999,currency:"₺",billingPeriod:"Monthly",features:["20 Kullanıcı","50 GB Depolama","Tüm Modüller"],maxUsers:20,maxStorage:50,modules:["CRM","Inventory"],isPopular:!0},{id:"c3d4e5f6-a7b8-9012-cdef-345678901234",name:"Enterprise",description:"Kurumsal çözümler",price:2499,currency:"₺",billingPeriod:"Monthly",features:["Sınırsız Kullanıcı","500 GB Depolama"],maxUsers:-1,maxStorage:500,modules:["CRM","Inventory","Finance"]}];r(e),e.length>0&&!l&&d(e[0])}}),F=(e,i,s)=>{T({selectedModules:e,basePackage:i,totalPrice:s}),a(1)},L=i=>n(null,null,function*(){if(!z)return S.error("Kayıt bilgileri bulunamadı. Lütfen önce kayıt işlemini tamamlayın."),void a(1);const s=new URLSearchParams({tenantId:z,packageId:(null==l?void 0:l.id)||"",package:(null==l?void 0:l.name)||"",amount:U().toString(),period:c,company:K.getFieldValue("companyName"),email:K.getFieldValue("contactEmail"),method:i});e(`/payment?${s.toString()}`)}),U=()=>{if(B){let e=B.totalPrice;return"Yearly"===c&&(e=12*e*.8),Math.floor(e)}if(!l||!l.price)return 0;let e=l.price;return"Yearly"===c&&(e=12*e*.8),l.discount&&(e*=1-l.discount/100),Math.floor(e)},Y=e=>{N(e.id),S.success("Kayıt başarılı! Şimdi ödeme adımına geçiliyor..."),a(2)};return t.jsxs("div",{className:"register-page",children:[t.jsx("div",{className:"register-header",children:t.jsxs("div",{className:"container",children:[t.jsxs(v,{size:"large",children:[t.jsx(ae,{style:{fontSize:32,color:"#667eea"}}),t.jsx(ke,{level:2,style:{margin:0,color:"#fff"},children:"Stocker'a Kayıt Ol"})]}),t.jsx(p,{type:"default",ghost:!0,onClick:()=>e("/login"),style:{position:"absolute",right:24,top:"50%",transform:"translateY(-50%)"},children:"Zaten hesabım var"})]})}),t.jsx("div",{className:"register-content",children:t.jsxs("div",{className:"container",children:[t.jsx(R,{current:i,style:{marginBottom:48},items:[{title:"Modül Seçimi",icon:t.jsx(C,{})},{title:"Bilgi Girişi",icon:t.jsx(G,{})},{title:"Ödeme",icon:t.jsx(se,{})}]}),0===i&&t.jsx(pe,{onComplete:F,initialModules:null==B?void 0:B.selectedModules,initialPackage:null==B?void 0:B.basePackage}),1===i&&t.jsx(ve,{onComplete:Y,selectedPackage:l}),2===i&&t.jsx("div",{className:"payment-section",children:t.jsx(o,{gutter:[48,24],justify:"center",children:t.jsx(m,{xs:24,md:16,children:t.jsxs(x,{children:[t.jsxs(ke,{level:3,children:[t.jsx(se,{})," Ödeme Bilgileri"]}),g?t.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[t.jsx(q,{size:"large"}),t.jsx(ke,{level:4,style:{marginTop:24},children:"Ödeme işleniyor..."}),t.jsx(be,{type:"secondary",children:"Lütfen bekleyin, ödemeniz güvenli bir şekilde işleniyor."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Q,{message:"Kayıt Başarılı!",description:`Tenant ID: ${z}. Şimdi ödeme yaparak hesabınızı aktifleştirin.`,type:"info",showIcon:!0,style:{marginBottom:24}}),t.jsxs("div",{className:"payment-methods",children:[t.jsx(ke,{level:5,children:"Ödeme Yöntemi Seçin"}),t.jsxs(o,{gutter:[16,16],children:[t.jsx(m,{span:12,children:t.jsx(x,{hoverable:!0,className:"payment-method-card",onClick:()=>L("credit_card"),children:t.jsxs(v,{direction:"vertical",align:"center",style:{width:"100%"},children:[t.jsx(se,{style:{fontSize:48,color:"#667eea"}}),t.jsx(be,{strong:!0,children:"Kredi Kartı"}),t.jsx(be,{type:"secondary",children:"Visa, Mastercard, Amex"})]})})}),t.jsx(m,{span:12,children:t.jsx(x,{hoverable:!0,className:"payment-method-card",onClick:()=>L("bank_transfer"),children:t.jsxs(v,{direction:"vertical",align:"center",style:{width:"100%"},children:[t.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2830/2830284.png",alt:"Bank Transfer",style:{width:48,height:48}}),t.jsx(be,{strong:!0,children:"Banka Havalesi / EFT"}),t.jsx(be,{type:"secondary",children:"3 iş günü içinde"})]})})})]})]}),t.jsx(j,{}),t.jsxs("div",{className:"payment-summary",children:[t.jsx(ke,{level:5,children:"Ödeme Özeti"}),t.jsxs("div",{className:"summary-details",children:[t.jsxs("div",{className:"summary-row",children:[t.jsx(be,{children:"Şirket:"}),t.jsx(be,{strong:!0,children:K.getFieldValue("companyName")})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx(be,{children:"Paket:"}),t.jsx(be,{strong:!0,children:null==l?void 0:l.name})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx(be,{children:"Dönem:"}),t.jsx(be,{strong:!0,children:"Monthly"===c?"Aylık":"Yıllık"})]}),t.jsx(j,{}),t.jsxs("div",{className:"summary-row total",children:[t.jsx(ke,{level:5,children:"Toplam Tutar:"}),t.jsxs(ke,{level:4,style:{color:"#667eea",margin:0},children:[null==l?void 0:l.currency,U()]})]})]})]}),t.jsx(Q,{message:"Güvenli Ödeme",description:"Ödeme bilgileriniz 256-bit SSL şifreleme ile korunmaktadır.",type:"success",showIcon:!0,icon:t.jsx(H,{}),style:{marginTop:24}})]})]})})})})]})})]})};export{Ne as RegisterPage};
