var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(s,t,r)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,n=(e,s)=>{for(var t in s||(s={}))a.call(s,t)&&i(e,t,s[t]);if(r)for(var t of r(s))l.call(s,t)&&i(e,t,s[t]);return e},c=(e,r)=>s(e,t(r)),o=(e,s,t)=>new Promise((r,a)=>{var l=e=>{try{n(t.next(e))}catch(s){a(s)}},i=e=>{try{n(t.throw(e))}catch(s){a(s)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,i);n((t=t.apply(e,s)).next())});import{U as d,aD as m,j as u,Z as x,v as h,S as j,bz as p,b6 as y,c as g,bq as b,O as f,aV as v,bf as k,a2 as S,a3 as I,a5 as C,bi as w,aU as D,aZ as O,a0 as Y,by as T,bM as z,E as B,bd as M,u as P,b7 as U,g as R,bk as H,aj as K,Y as N,z as A,be as G,$ as E,aE as F,bN as $,b1 as L,B as Z,T as _,aR as Q,bO as V,_ as X,aC as q,ao as J,bF as W,bK as ee,I as se}from"./chunk-Bx2_2m46.js";import{r as te}from"./chunk-nBmrMGrr.js";/* empty css              */import{m as re}from"./chunk-DFuNhjAk.js";import{A as ae,P as le}from"./chunk-BxlgjvxH.js";import{G as ie}from"./chunk-CbIdCaL5.js";import"./chunk-DskIvzXe.js";d.extend(ee);const{Title:ne,Text:ce,Paragraph:oe}=x,{TabPane:de}=O,{Option:me}=y,{RangePicker:ue}=U,{TextArea:xe}=se,he=()=>{const[e,s]=te.useState(!1),[t,r]=te.useState("overview"),[a,l]=te.useState([]),[i,x]=te.useState([]),[U,ee]=te.useState([]),[se,oe]=te.useState(null),[xe,he]=te.useState(!1),[ye,ge]=te.useState(!1),[be,fe]=te.useState(null),[ve,ke]=te.useState("all"),[Se,Ie]=te.useState(null),[Ce,we]=te.useState(!0),[De,Oe]=te.useState(3e4),Ye=[{id:"1",name:"API Gateway",status:"running",uptime:"15d 3h 45m",cpu:25,memory:45,responseTime:125,errorRate:.2,lastCheck:d().subtract(30,"seconds").toISOString()},{id:"2",name:"PostgreSQL",status:"running",uptime:"30d 12h 10m",cpu:15,memory:62,responseTime:8,errorRate:0,lastCheck:d().subtract(30,"seconds").toISOString()},{id:"3",name:"Redis Cache",status:"running",uptime:"30d 12h 10m",cpu:5,memory:25,responseTime:2,errorRate:0,lastCheck:d().subtract(30,"seconds").toISOString()},{id:"4",name:"RabbitMQ",status:"running",uptime:"10d 5h 30m",cpu:12,memory:38,responseTime:15,errorRate:.1,lastCheck:d().subtract(30,"seconds").toISOString()},{id:"5",name:"Elasticsearch",status:"warning",uptime:"5d 2h 15m",cpu:78,memory:85,responseTime:450,errorRate:2.5,lastCheck:d().subtract(30,"seconds").toISOString()},{id:"6",name:"MinIO Storage",status:"running",uptime:"20d 8h 55m",cpu:8,memory:30,responseTime:35,errorRate:0,lastCheck:d().subtract(30,"seconds").toISOString()}],Te=[{id:"1",timestamp:d().subtract(2,"minutes").toISOString(),level:"info",source:"API Gateway",message:"New tenant registered: TechCorp"},{id:"2",timestamp:d().subtract(5,"minutes").toISOString(),level:"warning",source:"Elasticsearch",message:"High memory usage detected (85%)",details:{memory:85,threshold:80}},{id:"3",timestamp:d().subtract(10,"minutes").toISOString(),level:"error",source:"Payment Service",message:"Failed to process payment for order #12345",details:{orderId:"12345",error:"Gateway timeout"}},{id:"4",timestamp:d().subtract(15,"minutes").toISOString(),level:"info",source:"System",message:"Scheduled backup completed successfully"},{id:"5",timestamp:d().subtract(30,"minutes").toISOString(),level:"debug",source:"Redis Cache",message:"Cache invalidation completed for key: products_*"}],ze=[{id:"1",type:"warning",title:"Yüksek Bellek Kullanımı",description:"Elasticsearch servisi %85 bellek kullanımına ulaştı",timestamp:d().subtract(5,"minutes").toISOString(),resolved:!1},{id:"2",type:"error",title:"Ödeme Hatası",description:"Son 10 dakikada 3 ödeme işlemi başarısız oldu",timestamp:d().subtract(10,"minutes").toISOString(),resolved:!1},{id:"3",type:"info",title:"Sistem Güncellemesi",description:"Yeni güvenlik yaması uygulandı",timestamp:d().subtract(1,"hour").toISOString(),resolved:!0}];te.useEffect(()=>{if(Be(),Ce){const e=setInterval(Be,De);return()=>clearInterval(e)}},[Ce,De]);const Be=()=>o(null,null,function*(){s(!0);try{setTimeout(()=>{l(Ye),x(Te),ee(ze),s(!1)},500)}catch(e){m.error("Monitoring verileri yüklenirken hata oluştu"),s(!1)}}),Me=(e,s)=>o(null,null,function*(){try{q.success({message:"İşlem Başarılı",description:`${e.name} servisi ${"restart"===s?"yeniden başlatıldı":"start"===s?"başlatıldı":"durduruldu"}`}),Be()}catch(t){m.error("İşlem başarısız oldu")}}),Pe=e=>({running:"success",stopped:"default",error:"error",starting:"processing",stopping:"warning"}[e]||"default"),Ue=e=>({running:u.jsx(E,{}),stopped:u.jsx(W,{}),error:u.jsx(F,{}),starting:u.jsx(J,{spin:!0}),stopping:u.jsx(V,{})}[e]||u.jsx(Q,{})),Re=e=>({info:"blue",warning:"orange",error:"red",debug:"default"}[e]||"default"),He={data:Array.from({length:24},(e,s)=>({time:`${s}:00`,value:Math.floor(40*Math.random())+30})),xField:"time",yField:"value",smooth:!0,color:"#1890ff",areaStyle:{fill:"l(270) 0:#ffffff 1:#1890ff"},yAxis:{max:100,min:0}},Ke={data:[{type:"Sağlıklı",value:4},{type:"Uyarı",value:1},{type:"Hata",value:1}],angleField:"value",colorField:"type",radius:.8,label:{type:"outer"},color:["#52c41a","#faad14","#ff4d4f"]},Ne=[{title:"Servis",dataIndex:"name",key:"name",render:(e,s)=>u.jsxs(j,{children:[u.jsx(Z,{status:Pe(s.status)}),u.jsx(ce,{strong:!0,children:e})]})},{title:"Durum",dataIndex:"status",key:"status",render:e=>u.jsx(N,{color:Pe(e),icon:Ue(e),children:e.toUpperCase()})},{title:"Uptime",dataIndex:"uptime",key:"uptime"},{title:"CPU",dataIndex:"cpu",key:"cpu",render:e=>u.jsx(D,{percent:e,size:"small",status:e>80?"exception":e>60?"active":"success"})},{title:"Bellek",dataIndex:"memory",key:"memory",render:e=>u.jsx(D,{percent:e,size:"small",status:e>80?"exception":e>60?"active":"success"})},{title:"Yanıt Süresi",dataIndex:"responseTime",key:"responseTime",render:e=>u.jsxs(N,{color:e>500?"red":e>200?"orange":"green",children:[e,"ms"]})},{title:"Hata Oranı",dataIndex:"errorRate",key:"errorRate",render:e=>u.jsxs(N,{color:e>5?"red":e>2?"orange":"green",children:[e,"%"]})},{title:"İşlemler",key:"actions",render:e=>u.jsxs(j,{children:[u.jsx(_,{title:"Detaylar",children:u.jsx(g,{type:"text",icon:u.jsx(Q,{}),onClick:()=>{oe(e),he(!0)}})}),u.jsx(_,{title:"Yeniden Başlat",children:u.jsx(g,{type:"text",icon:u.jsx(b,{}),onClick:()=>Me(e,"restart")})}),"running"===e.status?u.jsx(_,{title:"Durdur",children:u.jsx(g,{type:"text",icon:u.jsx(V,{}),danger:!0,onClick:()=>Me(e,"stop")})}):u.jsx(_,{title:"Başlat",children:u.jsx(g,{type:"text",icon:u.jsx(X,{}),onClick:()=>Me(e,"start")})})]})}],Ae=i.filter(e=>"all"===ve||e.level===ve);return u.jsxs("div",{className:"master-monitoring-page",children:[u.jsxs("div",{className:"page-header glass-morphism",children:[u.jsxs(re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"header-content",children:[u.jsxs(ne,{level:2,className:"gradient-text",children:[u.jsx(h,{})," Sistem İzleme"]}),u.jsx(ce,{type:"secondary",children:"Sistem performansı ve servis durumlarını izleyin"})]}),u.jsx(re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"header-actions",children:u.jsxs(j,{children:[u.jsx(ce,{children:"Otomatik Yenileme:"}),u.jsx(p,{checked:Ce,onChange:we,checkedChildren:"Açık",unCheckedChildren:"Kapalı"}),u.jsxs(y,{value:De,onChange:Oe,style:{width:120},disabled:!Ce,children:[u.jsx(me,{value:1e4,children:"10 saniye"}),u.jsx(me,{value:3e4,children:"30 saniye"}),u.jsx(me,{value:6e4,children:"1 dakika"}),u.jsx(me,{value:3e5,children:"5 dakika"})]}),u.jsx(g,{icon:u.jsx(b,{}),onClick:Be,loading:e,children:"Yenile"})]})})]}),U.filter(e=>!e.resolved).length>0&&u.jsx(f,{message:"Aktif Uyarılar",description:u.jsx(j,{direction:"vertical",style:{width:"100%"},children:U.filter(e=>!e.resolved).map(e=>u.jsx("div",{children:u.jsxs(j,{children:["error"===e.type?u.jsx(v,{style:{color:"#ff4d4f"}}):u.jsx(k,{style:{color:"#faad14"}}),u.jsx(ce,{strong:!0,children:e.title}),u.jsxs(ce,{type:"secondary",children:["- ",e.description]}),u.jsxs(ce,{type:"secondary",style:{fontSize:12},children:["(",d(e.timestamp).fromNow(),")"]})]})},e.id))}),type:"warning",showIcon:!0,closable:!0,style:{marginBottom:20}}),u.jsx(S,{gutter:[20,20],className:"stats-row",children:[{name:"CPU Kullanımı",value:42,unit:"%",status:"normal",trend:"stable"},{name:"Bellek Kullanımı",value:68,unit:"%",status:"warning",trend:"up"},{name:"Disk Kullanımı",value:35,unit:"%",status:"normal",trend:"up"},{name:"Ağ Trafiği",value:125,unit:"MB/s",status:"normal",trend:"stable"}].map((e,s)=>u.jsx(I,{xs:24,sm:12,lg:6,children:u.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:u.jsxs(C,{className:"stat-card glass-morphism",children:[u.jsx(w,{title:e.name,value:e.value,suffix:e.unit,valueStyle:{color:"critical"===e.status?"#ff4d4f":"warning"===e.status?"#faad14":"#52c41a"},prefix:"up"===e.trend?u.jsx(je,{}):"down"===e.trend?u.jsx(pe,{}):null}),u.jsx(D,{percent:"%"===e.unit?e.value:e.value/200*100,showInfo:!1,status:"critical"===e.status?"exception":"warning"===e.status?"active":"success"})]})})},s))}),u.jsx(C,{className:"content-card glass-morphism",children:u.jsxs(O,{activeKey:t,onChange:r,children:[u.jsxs(de,{tab:u.jsxs("span",{children:[u.jsx(B,{}),"Genel Bakış"]}),children:[u.jsxs(S,{gutter:[20,20],children:[u.jsx(I,{xs:24,lg:12,children:u.jsx(C,{title:"CPU Kullanımı (24 Saat)",bordered:!1,children:u.jsx(ae,c(n({},He),{height:200}))})}),u.jsx(I,{xs:24,lg:6,children:u.jsx(C,{title:"Bellek Kullanımı",bordered:!1,children:u.jsx(ie,c(n({},{percent:.68,range:{color:"l(0) 0:#52c41a 0.5:#faad14 1:#ff4d4f"},indicator:{pointer:{style:{stroke:"#D0D0D0"}},pin:{style:{stroke:"#D0D0D0"}}},statistic:{content:{style:{fontSize:"24px"},formatter:()=>"68%"}}}),{height:200}))})}),u.jsx(I,{xs:24,lg:6,children:u.jsx(C,{title:"Servis Durumu",bordered:!1,children:u.jsx(le,c(n({},Ke),{height:200}))})})]}),u.jsx(Y,{}),u.jsx(S,{gutter:[20,20],children:u.jsx(I,{xs:24,children:u.jsx(C,{title:"Sistem Bilgileri",bordered:!1,extra:u.jsx(g,{icon:u.jsx(z,{}),onClick:()=>o(null,null,function*(){L.confirm({title:"Önbelleği Temizle",content:"Tüm önbellek verilerini temizlemek istediğinizden emin misiniz?",okText:"Temizle",okType:"danger",cancelText:"İptal",onOk:()=>o(null,null,function*(){try{m.success("Önbellek temizlendi")}catch(e){m.error("Önbellek temizlenemedi")}})})}),children:"Önbelleği Temizle"}),children:u.jsxs(T,{bordered:!0,column:{xs:1,sm:2,lg:3},children:[u.jsx(T.Item,{label:"İşletim Sistemi",children:"Ubuntu 22.04 LTS"}),u.jsx(T.Item,{label:"Çekirdek",children:"5.15.0-88-generic"}),u.jsx(T.Item,{label:"Uptime",children:"30d 12h 45m"}),u.jsx(T.Item,{label:"CPU",children:"Intel Xeon E5-2680 v4 (8 cores)"}),u.jsx(T.Item,{label:"RAM",children:"32 GB DDR4"}),u.jsx(T.Item,{label:"Disk",children:"500 GB SSD"}),u.jsx(T.Item,{label:"Veritabanı Boyutu",children:"12.5 GB"}),u.jsx(T.Item,{label:"Önbellek Boyutu",children:"256 MB"}),u.jsx(T.Item,{label:"Son Yedekleme",children:d().subtract(6,"hours").format("DD.MM.YYYY HH:mm")})]})})})})]},"overview"),u.jsx(de,{tab:u.jsxs("span",{children:[u.jsx(P,{}),"Servisler"]}),children:u.jsx(M,{columns:Ne,dataSource:a,rowKey:"id",loading:e,pagination:!1})},"services"),u.jsxs(de,{tab:u.jsxs("span",{children:[u.jsx(A,{}),"Loglar"]}),children:[u.jsxs(j,{style:{marginBottom:16},children:[u.jsxs(y,{value:ve,onChange:ke,style:{width:120},children:[u.jsx(me,{value:"all",children:"Tümü"}),u.jsx(me,{value:"error",children:"Hata"}),u.jsx(me,{value:"warning",children:"Uyarı"}),u.jsx(me,{value:"info",children:"Bilgi"}),u.jsx(me,{value:"debug",children:"Debug"})]}),u.jsx(ue,{showTime:!0,onChange:e=>Ie(e)}),u.jsx(g,{icon:u.jsx(R,{}),children:"Ara"}),u.jsx(g,{icon:u.jsx(H,{}),children:"İndir"})]}),u.jsx(K,{dataSource:Ae,renderItem:e=>u.jsx(K.Item,{actions:[u.jsx(g,{type:"link",onClick:()=>{fe(e),ge(!0)},children:"Detay"})],children:u.jsx(K.Item.Meta,{avatar:u.jsx(N,{color:Re(e.level),children:e.level.toUpperCase()}),title:u.jsxs(j,{children:[u.jsx(ce,{strong:!0,children:e.source}),u.jsx(ce,{type:"secondary",style:{fontSize:12},children:d(e.timestamp).format("DD.MM.YYYY HH:mm:ss")})]}),description:e.message})},e.id)})]},"logs"),u.jsx(de,{tab:u.jsxs("span",{children:[u.jsx($,{}),"Uyarılar"]}),children:u.jsx(G,{children:U.map(e=>u.jsx(G.Item,{color:"error"===e.type?"red":"warning"===e.type?"orange":"blue",dot:e.resolved?u.jsx(E,{}):"error"===e.type?u.jsx(F,{}):u.jsx(v,{}),children:u.jsxs(j,{direction:"vertical",children:[u.jsxs(j,{children:[u.jsx(ce,{strong:!0,children:e.title}),e.resolved&&u.jsx(N,{color:"success",children:"Çözüldü"})]}),u.jsx(ce,{children:e.description}),u.jsx(ce,{type:"secondary",style:{fontSize:12},children:d(e.timestamp).format("DD.MM.YYYY HH:mm")})]})},e.id))})},"alerts")]})}),u.jsx(L,{title:`Servis Detayları: ${null==se?void 0:se.name}`,open:xe,onCancel:()=>he(!1),footer:[u.jsx(g,{onClick:()=>he(!1),children:"Kapat"},"close")],width:600,children:se&&u.jsxs(T,{bordered:!0,column:1,children:[u.jsx(T.Item,{label:"Durum",children:u.jsx(N,{color:Pe(se.status),children:se.status.toUpperCase()})}),u.jsx(T.Item,{label:"Uptime",children:se.uptime}),u.jsx(T.Item,{label:"CPU Kullanımı",children:u.jsx(D,{percent:se.cpu})}),u.jsx(T.Item,{label:"Bellek Kullanımı",children:u.jsx(D,{percent:se.memory})}),u.jsxs(T.Item,{label:"Yanıt Süresi",children:[se.responseTime,"ms"]}),u.jsxs(T.Item,{label:"Hata Oranı",children:[se.errorRate,"%"]}),u.jsx(T.Item,{label:"Son Kontrol",children:d(se.lastCheck).format("DD.MM.YYYY HH:mm:ss")})]})}),u.jsx(L,{title:"Log Detayları",open:ye,onCancel:()=>ge(!1),footer:[u.jsx(g,{onClick:()=>ge(!1),children:"Kapat"},"close")],width:700,children:be&&u.jsxs(u.Fragment,{children:[u.jsxs(T,{bordered:!0,column:1,children:[u.jsx(T.Item,{label:"Zaman",children:d(be.timestamp).format("DD.MM.YYYY HH:mm:ss")}),u.jsx(T.Item,{label:"Seviye",children:u.jsx(N,{color:Re(be.level),children:be.level.toUpperCase()})}),u.jsx(T.Item,{label:"Kaynak",children:be.source}),u.jsx(T.Item,{label:"Mesaj",children:be.message})]}),be.details&&u.jsxs(u.Fragment,{children:[u.jsx(Y,{children:"Detaylar"}),u.jsx("pre",{style:{background:"#f5f5f5",padding:12,borderRadius:4},children:JSON.stringify(be.details,null,2)})]})]})})]})},je=()=>u.jsx("span",{children:"↑"}),pe=()=>u.jsx("span",{children:"↓"});export{he as MasterMonitoringPage,he as default};
