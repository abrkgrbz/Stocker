var e=(e,s,l)=>new Promise((i,a)=>{var n=e=>{try{r(l.next(e))}catch(s){a(s)}},t=e=>{try{r(l.throw(e))}catch(s){a(s)}},r=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,t);r((l=l.apply(e,s)).next())});import{j as s,I as l,at as i,O as a,Q as n,Y as t,U as r,S as d,B as c,aE as o,ak as h,al as u,t as x,x as j,W as g,w as m,T as p,aF as v,v as y,a5 as f}from"./chunk-CEttvXTd.js";import{r as S}from"./chunk-nBmrMGrr.js";import{u as b}from"./chunk-BIHXrF2f.js";import{a as P}from"../index-B_k6pmnm.js";import"./chunk-FkXcRIdw.js";import"./chunk-BsETiAjl.js";const{Title:T,Text:k}=l,{TabPane:w}=o,V=()=>{const{isConnected:l,emailValidation:V,passwordStrength:I,domainCheck:A,phoneValidation:C,companyNameCheck:R,error:E,validateEmail:N,checkPasswordStrength:O,checkDomain:W,validatePhone:D,checkCompanyName:F}=b(),[B,$]=S.useState(""),[M,J]=S.useState(""),[U,z]=S.useState(""),[H,K]=S.useState(""),[L,Q]=S.useState(""),[Y,q]=S.useState(!1),[G,X]=S.useState(!1),[Z,_]=S.useState(!1),[ee,se]=S.useState(!1),[le,ie]=S.useState(!1),[ae,ne]=S.useState(null),[te,re]=S.useState(null),[de,ce]=S.useState(null),[oe,he]=S.useState(null),[ue,xe]=S.useState(null),[je,ge]=S.useState(!1),[me,pe]=S.useState(!1),[ve,ye]=S.useState(!1),[fe,Se]=S.useState(!1),[be,Pe]=S.useState(!1);S.useEffect(()=>{V&&q(!1)},[V]),S.useEffect(()=>{I&&X(!1)},[I]),S.useEffect(()=>{A&&_(!1)},[A]),S.useEffect(()=>{C&&se(!1)},[C]),S.useEffect(()=>{R&&ie(!1)},[R]);const Te=e=>{switch(e){case"VeryWeak":return"#ff4d4f";case"Weak":return"#faad14";case"Fair":return"#fadb14";case"Strong":return"#52c41a";case"VeryStrong":return"#389e0d";default:return"#d9d9d9"}},ke=(e,l,a,n,t,c,S,b,P,T,V=!1,I)=>s.jsx(r,{title:e,children:s.jsxs(o,{defaultActiveKey:"signalr",children:[s.jsxs(w,{tab:s.jsxs("span",{children:[s.jsx(v,{})," SignalR (Real-time)"]}),children:[s.jsx(h.Item,{label:`${e} - SignalR`,validateStatus:b?"validating":n?n.isValid||n.score>=3?"success":"error":"",hasFeedback:b||!!n,help:(null==n?void 0:n.message)||(null==n?void 0:n.suggestions)&&n.suggestions.join(", "),children:V?s.jsx(u.Password,{placeholder:T,value:l,onChange:e=>{a(e.target.value),c(e.target.value)}}):s.jsx(u,{placeholder:T,value:l,onChange:e=>{a(e.target.value),c(e.target.value)},addonAfter:I,suffix:b?s.jsx(x,{indicator:s.jsx(j,{})}):n?n.isValid||n.score>=3?s.jsx(g,{style:{color:"#52c41a"}}):s.jsx(m,{style:{color:"#ff4d4f"}}):null})}),n&&s.jsx(i,{message:"SignalR Result",description:s.jsxs("div",{children:[void 0!==n.score&&s.jsxs("div",{children:[s.jsx(k,{children:"Score: "}),s.jsxs(p,{color:Te(n.level),children:[n.level," (",n.score,"/5)"]})]}),n.details&&s.jsx("pre",{children:JSON.stringify(n.details,null,2)}),n.suggestions&&n.suggestions.length>0&&s.jsx("ul",{children:n.suggestions.map((e,l)=>s.jsx("li",{children:e},l))})]}),type:n.isValid||n.score>=3?"success":"warning"})]},"signalr"),s.jsxs(w,{tab:s.jsxs("span",{children:[s.jsx(f,{})," REST API"]}),children:[s.jsx(h.Item,{label:`${e} - REST API`,validateStatus:P?"validating":t?t.isValid||t.score>=3||t.isAvailable?"success":"error":"",hasFeedback:P,children:s.jsxs(d.Compact,{style:{width:"100%"},children:[V?s.jsx(u.Password,{placeholder:T,value:l,onChange:e=>a(e.target.value)}):s.jsx(u,{placeholder:T,value:l,onChange:e=>a(e.target.value),addonAfter:I}),s.jsx(y,{type:"primary",onClick:S,loading:P,children:"Validate"})]})}),t&&s.jsx(i,{message:"API Result",description:s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Message:"})," ",t.message]}),void 0!==t.score&&s.jsxs("p",{children:[s.jsx("strong",{children:"Score:"})," ",s.jsxs(p,{color:Te(t.level),children:[t.level," (",t.score,"/5)"]})]}),t.formattedNumber&&s.jsxs("p",{children:[s.jsx("strong",{children:"Formatted:"})," ",t.formattedNumber]}),t.carrier&&s.jsxs("p",{children:[s.jsx("strong",{children:"Carrier:"})," ",t.carrier]}),t.suggestions&&t.suggestions.length>0&&s.jsxs("div",{children:[s.jsx("strong",{children:"Suggestions:"}),s.jsx("ul",{children:t.suggestions.map((e,l)=>s.jsx("li",{children:e},l))})]}),t.details&&Object.keys(t.details).length>0&&s.jsxs("details",{children:[s.jsx("summary",{children:"Details"}),s.jsx("pre",{children:JSON.stringify(t.details,null,2)})]})]}),type:t.isValid||t.score>=3||t.isAvailable?"success":"warning"})]},"api")]})});return s.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto"},children:[s.jsx(T,{level:2,children:"Validation Test Page"}),s.jsx(i,{message:l?"SignalR Connected":"SignalR Disconnected",description:l?"Real-time validation is active. Type in the fields to see instant validation.":"SignalR is not connected. Using mock service for real-time validation.",type:l?"success":"warning",showIcon:!0,style:{marginBottom:24}}),E&&s.jsx(i,{message:"Validation Error",description:E,type:"error",showIcon:!0,closable:!0,style:{marginBottom:24}}),s.jsxs(a,{gutter:[24,24],children:[s.jsx(n,{xs:24,md:12,children:ke("Email Validation",B,$,V,ae,s=>e(null,null,function*(){$(s),s&&s.includes("@")&&(q(!0),yield N(s))}),()=>e(null,null,function*(){var e,s;if(B&&B.includes("@")){ge(!0);try{const e=yield P.post("/api/public/validate/email",{email:B});ne(e.data)}catch(l){ne({isValid:!1,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{ge(!1)}}}),Y,je,"test@example.com")}),s.jsx(n,{xs:24,md:12,children:ke("Password Strength",M,J,I,te,s=>e(null,null,function*(){J(s),s&&(X(!0),yield O(s))}),()=>e(null,null,function*(){var e,s;if(M){pe(!0);try{const e=yield P.post("/api/public/validate/password-strength",{password:M});re(e.data)}catch(l){re({score:0,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{pe(!1)}}}),G,me,"Enter a password",!0)}),s.jsx(n,{xs:24,md:12,children:ke("Domain Availability",U,z,A,de,s=>e(null,null,function*(){z(s),s&&s.length>2&&(_(!0),yield W(`${s}.stocker.app`))}),()=>e(null,null,function*(){var e,s;if(U&&!(U.length<3)){ye(!0);try{const e=yield P.post("/api/public/validate/domain",{domain:`${U}.stocker.app`});ce(e.data)}catch(l){ce({isAvailable:!1,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{ye(!1)}}}),Z,ve,"mycompany",!1,".stocker.app")}),s.jsx(n,{xs:24,md:12,children:ke("Phone Validation",H,K,C,oe,s=>e(null,null,function*(){K(s),s&&s.length>6&&(se(!0),yield D(s,"TR"))}),()=>e(null,null,function*(){var e,s;if(H&&!(H.length<7)){Se(!0);try{const e=yield P.post("/api/public/validate/phone",{phoneNumber:H,countryCode:"TR"});he(e.data)}catch(l){he({isValid:!1,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{Se(!1)}}}),ee,fe,"+90 555 123 4567")}),s.jsx(n,{xs:24,children:ke("Company Name Validation",L,Q,R,ue,s=>e(null,null,function*(){Q(s),s&&s.length>2&&(ie(!0),yield F(s))}),()=>e(null,null,function*(){var e,s;if(L&&!(L.length<3)){Pe(!0);try{const e=yield P.post("/api/public/validate/company-name",{companyName:L});xe(e.data)}catch(l){xe({isValid:!1,message:(null==(s=null==(e=l.response)?void 0:e.data)?void 0:s.message)||"API hatası"})}finally{Pe(!1)}}}),le,be,"ABC Technology Inc.")})]}),s.jsx(t,{}),s.jsx(r,{title:"Connection & API Information",style:{marginTop:24},children:s.jsxs(a,{gutter:[24,24],children:[s.jsxs(n,{xs:24,md:12,children:[s.jsx(T,{level:5,children:"SignalR Status"}),s.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[s.jsxs(d,{children:[s.jsx(c,{status:l?"success":"error"}),s.jsx(k,{strong:!0,children:"Connection: "}),s.jsx(k,{children:l?"Connected":"Disconnected"})]}),s.jsxs(d,{children:[s.jsx(k,{strong:!0,children:"Validation Hub: "}),s.jsx(k,{code:!0,children:"http://localhost:5104/hubs/validation"})]}),s.jsxs(d,{children:[s.jsx(k,{strong:!0,children:"Protocol: "}),s.jsx(k,{children:"WebSockets / LongPolling"})]})]})]}),s.jsxs(n,{xs:24,md:12,children:[s.jsx(T,{level:5,children:"REST API Endpoints"}),s.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[s.jsx(k,{code:!0,children:"POST /api/public/validate/email"}),s.jsx(k,{code:!0,children:"POST /api/public/validate/phone"}),s.jsx(k,{code:!0,children:"POST /api/public/validate/password-strength"}),s.jsx(k,{code:!0,children:"POST /api/public/validate/domain"}),s.jsx(k,{code:!0,children:"POST /api/public/validate/company-name"})]})]})]})}),s.jsxs(r,{title:"Test Scenarios",style:{marginTop:24},children:[s.jsx(T,{level:5,children:"Try these test cases:"}),s.jsxs(a,{gutter:[24,24],children:[s.jsxs(n,{xs:24,md:8,children:[s.jsx(k,{strong:!0,children:"Email Tests:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Valid: test@example.com"}),s.jsx("li",{children:"Typo: test@gmial.com"}),s.jsx("li",{children:"Disposable: test@tempmail.com"}),s.jsx("li",{children:"Invalid: test@"})]})]}),s.jsxs(n,{xs:24,md:8,children:[s.jsx(k,{strong:!0,children:"Phone Tests (TR):"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Valid: 5551234567"}),s.jsx("li",{children:"With code: 905551234567"}),s.jsx("li",{children:"Invalid: 1234567890"}),s.jsx("li",{children:"Short: 555123"})]})]}),s.jsxs(n,{xs:24,md:8,children:[s.jsx(k,{strong:!0,children:"Password Tests:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Weak: 123456"}),s.jsx("li",{children:"Medium: Test123"}),s.jsx("li",{children:"Strong: Test@123456"}),s.jsx("li",{children:"Very Strong: MyP@ssw0rd!2024"})]})]})]})]})]})};export{V as SignalRTestPage};
