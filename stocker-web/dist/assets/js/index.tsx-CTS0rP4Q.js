var l=(x,g,m)=>new Promise((u,p)=>{var f=h=>{try{y(m.next(h))}catch(S){p(S)}},w=h=>{try{y(m.throw(h))}catch(S){p(S)}},y=h=>h.done?u(h.value):Promise.resolve(h.value).then(f,w);y((m=m.apply(x,g)).next())});import{j as e,F as Me,an as A,M as $,N as d,Y as Ke,O as B,S as j,B as Je,aK as he,ag as ce,ah as E,t as He,x as Ue,_ as Ye,w as _e,T as le,aL as qe,v as ze,K as Ge}from"./chunk-CQugYT0Y.js";import{r as t}from"./chunk-a6Wk6XzP.js";import{u as Qe}from"./chunk-C5SoXV17.js";import{b as v}from"../index-BEW7Pg8Q.js";import"./chunk-yPPt1y7D.js";import"./chunk-CX9aqCgN.js";const{Title:k,Text:o}=Me,{TabPane:de}=he,is=()=>{const{isConnected:x,emailValidation:g,passwordStrength:m,domainCheck:u,phoneValidation:p,companyNameCheck:f,error:w,validateEmail:y,checkPasswordStrength:h,checkDomain:S,validatePhone:me,checkCompanyName:xe}=Qe(),[I,F]=t.useState(""),[D,W]=t.useState(""),[V,M]=t.useState(""),[C,K]=t.useState(""),[b,J]=t.useState(""),[pe,H]=t.useState(!1),[je,U]=t.useState(!1),[ge,Y]=t.useState(!1),[ue,_]=t.useState(!1),[fe,q]=t.useState(!1),[ye,z]=t.useState(null),[Se,G]=t.useState(null),[Pe,Q]=t.useState(null),[ve,X]=t.useState(null),[we,Z]=t.useState(null),[Ie,R]=t.useState(!1),[Ve,ee]=t.useState(!1),[Ce,se]=t.useState(!1),[be,ae]=t.useState(!1),[Te,te]=t.useState(!1),Ae=s=>l(null,null,function*(){F(s),s&&s.includes("@")&&(H(!0),yield y(s))}),Ee=s=>l(null,null,function*(){W(s),s&&(U(!0),yield h(s))}),ke=s=>l(null,null,function*(){M(s),s&&s.length>2&&(Y(!0),yield S(`${s}.stocker.app`))}),De=s=>l(null,null,function*(){K(s),s&&s.length>6&&(_(!0),yield me(s,"TR"))}),Ne=s=>l(null,null,function*(){J(s),s&&s.length>2&&(q(!0),yield xe(s))}),Oe=()=>l(null,null,function*(){var s,r;if(!(!I||!I.includes("@"))){R(!0);try{const i=yield v.post("/api/public/validate/email",{email:I});z(i.data)}catch(i){z({isValid:!1,message:((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||"API hatası"})}finally{R(!1)}}}),Le=()=>l(null,null,function*(){var s,r;if(D){ee(!0);try{const i=yield v.post("/api/public/validate/password-strength",{password:D});G(i.data)}catch(i){G({score:0,message:((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||"API hatası"})}finally{ee(!1)}}}),$e=()=>l(null,null,function*(){var s,r;if(!(!V||V.length<3)){se(!0);try{const i=yield v.post("/api/public/validate/domain",{domain:`${V}.stocker.app`});Q(i.data)}catch(i){Q({isAvailable:!1,message:((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||"API hatası"})}finally{se(!1)}}}),Be=()=>l(null,null,function*(){var s,r;if(!(!C||C.length<7)){ae(!0);try{const i=yield v.post("/api/public/validate/phone",{phoneNumber:C,countryCode:"TR"});X(i.data)}catch(i){X({isValid:!1,message:((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||"API hatası"})}finally{ae(!1)}}}),Fe=()=>l(null,null,function*(){var s,r;if(!(!b||b.length<3)){te(!0);try{const i=yield v.post("/api/public/validate/company-name",{companyName:b});Z(i.data)}catch(i){Z({isValid:!1,message:((r=(s=i.response)==null?void 0:s.data)==null?void 0:r.message)||"API hatası"})}finally{te(!1)}}});t.useEffect(()=>{g&&H(!1)},[g]),t.useEffect(()=>{m&&U(!1)},[m]),t.useEffect(()=>{u&&Y(!1)},[u]),t.useEffect(()=>{p&&_(!1)},[p]),t.useEffect(()=>{f&&q(!1)},[f]);const ie=s=>{switch(s){case"VeryWeak":return"#ff4d4f";case"Weak":return"#faad14";case"Fair":return"#fadb14";case"Strong":return"#52c41a";case"VeryStrong":return"#389e0d";default:return"#d9d9d9"}},P=(s,r,i,a,n,ne,We,N,O,T,re=!1,oe)=>e.jsx(B,{title:s,children:e.jsxs(he,{defaultActiveKey:"signalr",children:[e.jsxs(de,{tab:e.jsxs("span",{children:[e.jsx(qe,{})," SignalR (Real-time)"]}),children:[e.jsx(ce.Item,{label:`${s} - SignalR`,validateStatus:N?"validating":a?a.isValid||a.score>=3?"success":"error":"",hasFeedback:N||!!a,help:(a==null?void 0:a.message)||(a==null?void 0:a.suggestions)&&a.suggestions.join(", "),children:re?e.jsx(E.Password,{placeholder:T,value:r,onChange:c=>{i(c.target.value),ne(c.target.value)}}):e.jsx(E,{placeholder:T,value:r,onChange:c=>{i(c.target.value),ne(c.target.value)},addonAfter:oe,suffix:N?e.jsx(He,{indicator:e.jsx(Ue,{})}):a?a.isValid||a.score>=3?e.jsx(Ye,{style:{color:"#52c41a"}}):e.jsx(_e,{style:{color:"#ff4d4f"}}):null})}),a&&e.jsx(A,{message:"SignalR Result",description:e.jsxs("div",{children:[a.score!==void 0&&e.jsxs("div",{children:[e.jsx(o,{children:"Score: "}),e.jsxs(le,{color:ie(a.level),children:[a.level," (",a.score,"/5)"]})]}),a.details&&e.jsx("pre",{children:JSON.stringify(a.details,null,2)}),a.suggestions&&a.suggestions.length>0&&e.jsx("ul",{children:a.suggestions.map((c,L)=>e.jsx("li",{children:c},L))})]}),type:a.isValid||a.score>=3?"success":"warning"})]},"signalr"),e.jsxs(de,{tab:e.jsxs("span",{children:[e.jsx(Ge,{})," REST API"]}),children:[e.jsx(ce.Item,{label:`${s} - REST API`,validateStatus:O?"validating":n?n.isValid||n.score>=3||n.isAvailable?"success":"error":"",hasFeedback:O,children:e.jsxs(j.Compact,{style:{width:"100%"},children:[re?e.jsx(E.Password,{placeholder:T,value:r,onChange:c=>i(c.target.value)}):e.jsx(E,{placeholder:T,value:r,onChange:c=>i(c.target.value),addonAfter:oe}),e.jsx(ze,{type:"primary",onClick:We,loading:O,children:"Validate"})]})}),n&&e.jsx(A,{message:"API Result",description:e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",n.message]}),n.score!==void 0&&e.jsxs("p",{children:[e.jsx("strong",{children:"Score:"})," ",e.jsxs(le,{color:ie(n.level),children:[n.level," (",n.score,"/5)"]})]}),n.formattedNumber&&e.jsxs("p",{children:[e.jsx("strong",{children:"Formatted:"})," ",n.formattedNumber]}),n.carrier&&e.jsxs("p",{children:[e.jsx("strong",{children:"Carrier:"})," ",n.carrier]}),n.suggestions&&n.suggestions.length>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Suggestions:"}),e.jsx("ul",{children:n.suggestions.map((c,L)=>e.jsx("li",{children:c},L))})]}),n.details&&Object.keys(n.details).length>0&&e.jsxs("details",{children:[e.jsx("summary",{children:"Details"}),e.jsx("pre",{children:JSON.stringify(n.details,null,2)})]})]}),type:n.isValid||n.score>=3||n.isAvailable?"success":"warning"})]},"api")]})});return e.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto"},children:[e.jsx(k,{level:2,children:"Validation Test Page"}),e.jsx(A,{message:x?"SignalR Connected":"SignalR Disconnected",description:x?"Real-time validation is active. Type in the fields to see instant validation.":"SignalR is not connected. Using mock service for real-time validation.",type:x?"success":"warning",showIcon:!0,style:{marginBottom:24}}),w&&e.jsx(A,{message:"Validation Error",description:w,type:"error",showIcon:!0,closable:!0,style:{marginBottom:24}}),e.jsxs($,{gutter:[24,24],children:[e.jsx(d,{xs:24,md:12,children:P("Email Validation",I,F,g,ye,Ae,Oe,pe,Ie,"test@example.com")}),e.jsx(d,{xs:24,md:12,children:P("Password Strength",D,W,m,Se,Ee,Le,je,Ve,"Enter a password",!0)}),e.jsx(d,{xs:24,md:12,children:P("Domain Availability",V,M,u,Pe,ke,$e,ge,Ce,"mycompany",!1,".stocker.app")}),e.jsx(d,{xs:24,md:12,children:P("Phone Validation",C,K,p,ve,De,Be,ue,be,"+90 555 123 4567")}),e.jsx(d,{xs:24,children:P("Company Name Validation",b,J,f,we,Ne,Fe,fe,Te,"ABC Technology Inc.")})]}),e.jsx(Ke,{}),e.jsx(B,{title:"Connection & API Information",style:{marginTop:24},children:e.jsxs($,{gutter:[24,24],children:[e.jsxs(d,{xs:24,md:12,children:[e.jsx(k,{level:5,children:"SignalR Status"}),e.jsxs(j,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(j,{children:[e.jsx(Je,{status:x?"success":"error"}),e.jsx(o,{strong:!0,children:"Connection: "}),e.jsx(o,{children:x?"Connected":"Disconnected"})]}),e.jsxs(j,{children:[e.jsx(o,{strong:!0,children:"Validation Hub: "}),e.jsx(o,{code:!0,children:"http://localhost:5104/hubs/validation"})]}),e.jsxs(j,{children:[e.jsx(o,{strong:!0,children:"Protocol: "}),e.jsx(o,{children:"WebSockets / LongPolling"})]})]})]}),e.jsxs(d,{xs:24,md:12,children:[e.jsx(k,{level:5,children:"REST API Endpoints"}),e.jsxs(j,{direction:"vertical",style:{width:"100%"},children:[e.jsx(o,{code:!0,children:"POST /api/public/validate/email"}),e.jsx(o,{code:!0,children:"POST /api/public/validate/phone"}),e.jsx(o,{code:!0,children:"POST /api/public/validate/password-strength"}),e.jsx(o,{code:!0,children:"POST /api/public/validate/domain"}),e.jsx(o,{code:!0,children:"POST /api/public/validate/company-name"})]})]})]})}),e.jsxs(B,{title:"Test Scenarios",style:{marginTop:24},children:[e.jsx(k,{level:5,children:"Try these test cases:"}),e.jsxs($,{gutter:[24,24],children:[e.jsxs(d,{xs:24,md:8,children:[e.jsx(o,{strong:!0,children:"Email Tests:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Valid: test@example.com"}),e.jsx("li",{children:"Typo: test@gmial.com"}),e.jsx("li",{children:"Disposable: test@tempmail.com"}),e.jsx("li",{children:"Invalid: test@"})]})]}),e.jsxs(d,{xs:24,md:8,children:[e.jsx(o,{strong:!0,children:"Phone Tests (TR):"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Valid: 5551234567"}),e.jsx("li",{children:"With code: 905551234567"}),e.jsx("li",{children:"Invalid: 1234567890"}),e.jsx("li",{children:"Short: 555123"})]})]}),e.jsxs(d,{xs:24,md:8,children:[e.jsx(o,{strong:!0,children:"Password Tests:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Weak: 123456"}),e.jsx("li",{children:"Medium: Test123"}),e.jsx("li",{children:"Strong: Test@123456"}),e.jsx("li",{children:"Very Strong: MyP@ssw0rd!2024"})]})]})]})]})]})};export{is as SignalRTestPage};
