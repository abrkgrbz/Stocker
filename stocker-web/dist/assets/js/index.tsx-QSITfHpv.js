var e=Object.defineProperty,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(s,l,a)=>l in s?e(s,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[l]=a,r=(e,r)=>{for(var n in r||(r={}))l.call(r,n)&&i(e,n,r[n]);if(s)for(var n of s(r))a.call(r,n)&&i(e,n,r[n]);return e},n=(e,s,l)=>new Promise((a,i)=>{var r=e=>{try{t(l.next(e))}catch(s){i(s)}},n=e=>{try{t(l.throw(e))}catch(s){i(s)}},t=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,n);t((l=l.apply(e,s)).next())});import{ah as t,j as c,F as d,O as o,Q as m,A as u,az as x,v as h,U as j,_ as p,V as g,S as v,R as k,ab as y,Y as f,as as z,i as b,u as N,aA as S,G as w,M as I,N as C,aq as V,ao as A,ai as P,e as T,J as E,w as B,ak as K,aB as G,ar as q,ay as O,aC as F,am as X}from"./chunk-DMHx2Wdf.js";import{u as H,r as $}from"./chunk-nBmrMGrr.js";import{u as L}from"./chunk-9NqPQ7Dq.js";import{a as U}from"../index-JdnNEa23.js";import{P as D}from"./chunk-DR94TMKY.js";import"./chunk-FkXcRIdw.js";import"./chunk-BsETiAjl.js";const{Title:M,Text:Y,Paragraph:_}=d,R=()=>{const e=H(),[s]=t.useForm(),[l,a]=$.useState(0),[i,d]=$.useState({}),[R,J]=$.useState(!1),[Q,W]=$.useState({}),{emailValidation:Z,domainCheck:ee,companyNameCheck:se,phoneValidation:le,passwordStrength:ae,identityValidation:ie,validateEmail:re,checkDomain:ne,checkCompanyName:te,validatePhone:ce,checkPasswordStrength:de,validateIdentity:oe}=L(),me=[{title:"Şirket Bilgileri",icon:c.jsx(z,{}),description:"İşletmeniz hakkında temel bilgiler"},{title:"İletişim Bilgileri",icon:c.jsx(b,{}),description:"Yetkili kişi ve iletişim detayları"},{title:"Hesap Oluştur",icon:c.jsx(k,{}),description:"Kullanıcı adı ve şifre belirleme"},{title:"Onay & Başlangıç",icon:c.jsx(p,{}),description:"Sözleşme ve hesap aktivasyonu"}],ue=["Bilişim ve Teknoloji","Üretim ve Sanayi","Perakende ve E-ticaret","Hizmet Sektörü","Sağlık","Eğitim","İnşaat ve Gayrimenkul","Lojistik","Turizm","Diğer"],xe=[{value:"1-10",label:"1-10 Çalışan"},{value:"11-50",label:"11-50 Çalışan"},{value:"51-200",label:"51-200 Çalışan"},{value:"200+",label:"200+ Çalışan"}],he=()=>n(null,null,function*(){var e,n;J(!0);try{const e=r(r({},i),s.getFieldsValue());(yield U.post("/auth/register",{companyName:e.companyName,companyCode:e.companyCode,contactName:e.contactName,contactEmail:e.contactEmail,contactPhone:e.contactPhone,username:e.username,password:e.password,domain:`${e.domain}.stocker.com`,sector:e.sector,employeeCount:e.employeeCount})).data.success&&a(l+1)}catch(t){X.error((null==(n=null==(e=t.response)?void 0:e.data)?void 0:n.message)||"Kayıt sırasında bir hata oluştu")}finally{J(!1)}});return c.jsxs("div",{className:"register-wizard",children:[c.jsx("div",{className:"wizard-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx(M,{level:2,children:"Stocker'a Hoş Geldiniz"}),c.jsx(_,{children:"İşletmenizi dijitalleştirmeye hazır mısınız? Birkaç dakika içinde hesabınızı oluşturun."})]})}),c.jsxs(o,{className:"wizard-card",children:[l<4&&c.jsxs(c.Fragment,{children:[c.jsx(m,{current:l,className:"wizard-steps",children:me.map((e,s)=>c.jsx(m.Step,{title:e.title,description:e.description,icon:c.jsx(u,{size:"large",style:{backgroundColor:l>=s?"#667eea":"#f0f0f0",color:l>=s?"#fff":"#999"},children:e.icon})},s))}),c.jsx(x,{percent:l/(me.length-1)*100,showInfo:!1,strokeColor:"#667eea",style:{marginTop:24}})]}),c.jsx("div",{className:"wizard-body",children:(()=>{var a;switch(l){case 0:return c.jsxs("div",{className:"step-content",children:[c.jsxs("div",{className:"step-header",children:[c.jsx(M,{level:3,children:"Şirket Bilgileri"}),c.jsx(_,{className:"step-description",children:"İşletmeniz hakkında temel bilgileri girin. Bu bilgiler fatura ve resmi işlemlerinizde kullanılacaktır."})]}),c.jsx(t,{form:s,layout:"vertical",className:"step-form",children:c.jsxs(I,{gutter:24,children:[c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"companyName",label:"Şirket Adı",rules:[{required:!0,message:"Şirket adı zorunludur"},{min:3,message:"En az 3 karakter olmalıdır"}],validateStatus:!1===(null==se?void 0:se.isValid)?"error":"",help:null==se?void 0:se.message,children:c.jsx(P,{size:"large",placeholder:"Örn: ABC Teknoloji A.Ş.",prefix:c.jsx(z,{}),onChange:e=>{var s;(s=e.target.value)&&s.length>2&&te(s)},suffix:!0===(null==se?void 0:se.isValid)?c.jsx(p,{style:{color:"#52c41a"}}):!1===(null==se?void 0:se.isValid)?c.jsx(B,{style:{color:"#ff4d4f"}}):null})})}),c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"companyCode",label:"Vergi No / TC Kimlik No",rules:[{required:!0,message:"Vergi numarası zorunludur"},{pattern:/^[0-9]{10,11}$/,message:"Geçerli bir numara girin"}],validateStatus:!1===(null==ie?void 0:ie.isValid)?"error":"",help:null==ie?void 0:ie.message,children:c.jsx(P,{size:"large",placeholder:"10 haneli Vergi No veya 11 haneli TC Kimlik No",prefix:c.jsx(O,{}),maxLength:11,onChange:e=>(e=>{const s=e.replace(/\D/g,"");!s||10!==s.length&&11!==s.length||oe(s)})(e.target.value),suffix:!0===(null==ie?void 0:ie.isValid)?c.jsx(q,{title:"TCKimlik"===(null==(a=ie.details)?void 0:a.numberType)?"TC Kimlik No":"Vergi No",children:c.jsx(p,{style:{color:"#52c41a"}})}):!1===(null==ie?void 0:ie.isValid)?c.jsx(B,{style:{color:"#ff4d4f"}}):null})})}),c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"sector",label:"Sektör",rules:[{required:!0,message:"Sektör seçimi zorunludur"}],children:c.jsx(F.Group,{className:"sector-radio-group",children:ue.map(e=>c.jsx(F.Button,{value:e,className:"sector-button",children:e},e))})})}),c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"employeeCount",label:"Çalışan Sayısı",rules:[{required:!0,message:"Çalışan sayısı seçimi zorunludur"}],children:c.jsx(F.Group,{className:"employee-radio-group",children:xe.map(e=>c.jsxs(F.Button,{value:e.value,className:"employee-button",children:[c.jsx(b,{})," ",e.label]},e.value))})})})]})}),c.jsx("div",{className:"step-info",children:c.jsx(A,{message:"Bilgi",description:"Şirket bilgileriniz güvenle saklanır ve sadece yasal gereklilikler için kullanılır.",type:"info",showIcon:!0,icon:c.jsx(k,{})})})]});case 1:return c.jsxs("div",{className:"step-content",children:[c.jsxs("div",{className:"step-header",children:[c.jsx(M,{level:3,children:"İletişim Bilgileri"}),c.jsx(_,{className:"step-description",children:"Sizinle iletişime geçeceğimiz yetkili kişi bilgilerini girin."})]}),c.jsx(t,{form:s,layout:"vertical",className:"step-form",children:c.jsxs(I,{gutter:24,children:[c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"contactName",label:"Ad Soyad",rules:[{required:!0,message:"Ad soyad zorunludur"},{min:3,message:"En az 3 karakter olmalıdır"}],children:c.jsx(P,{size:"large",placeholder:"Adınız ve soyadınız",prefix:c.jsx(T,{})})})}),c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"contactTitle",label:"Unvan",rules:[{required:!0,message:"Unvan zorunludur"}],children:c.jsx(P,{size:"large",placeholder:"Örn: Genel Müdür, IT Müdürü",prefix:c.jsx(b,{})})})}),c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"contactEmail",label:"E-posta Adresi",rules:[{required:!0,message:"E-posta zorunludur"},{type:"email",message:"Geçerli bir e-posta adresi girin"}],validateStatus:!1===(null==Z?void 0:Z.isValid)?"error":"",help:null==Z?void 0:Z.message,children:c.jsx(P,{size:"large",placeholder:"ornek@sirket.com",prefix:c.jsx(K,{}),onChange:e=>{var s;(s=e.target.value)&&s.includes("@")&&re(s)},suffix:!0===(null==Z?void 0:Z.isValid)?c.jsx(p,{style:{color:"#52c41a"}}):!1===(null==Z?void 0:Z.isValid)?c.jsx(B,{style:{color:"#ff4d4f"}}):null})})}),c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"contactPhone",label:"Telefon Numarası",rules:[{required:!0,message:"Telefon numarası zorunludur"},{pattern:/^[0-9]{10,11}$/,message:"Geçerli bir telefon numarası girin"}],validateStatus:!1===(null==le?void 0:le.isValid)?"error":"",help:null==le?void 0:le.message,children:c.jsx(P,{size:"large",placeholder:"5XX XXX XX XX",prefix:c.jsx(G,{}),onChange:e=>{var s;(s=e.target.value)&&s.length>=10&&ce(s,"TR")},suffix:!0===(null==le?void 0:le.isValid)?c.jsx(p,{style:{color:"#52c41a"}}):!1===(null==le?void 0:le.isValid)?c.jsx(B,{style:{color:"#ff4d4f"}}):null})})})]})}),c.jsxs("div",{className:"contact-benefits",children:[c.jsx(M,{level:4,children:"İletişim Avantajları"}),c.jsxs(S,{children:[c.jsx(S.Item,{color:"green",children:"7/24 teknik destek"}),c.jsx(S.Item,{color:"blue",children:"Özel müşteri temsilcisi"}),c.jsx(S.Item,{color:"orange",children:"Ücretsiz eğitim ve danışmanlık"}),c.jsx(S.Item,{color:"purple",children:"Öncelikli güncelleme bildirimleri"})]})]})]});case 2:return c.jsxs("div",{className:"step-content",children:[c.jsxs("div",{className:"step-header",children:[c.jsx(M,{level:3,children:"Hesap Bilgileri"}),c.jsx(_,{className:"step-description",children:"Sisteme giriş için kullanacağınız bilgileri oluşturun."})]}),c.jsx(t,{form:s,layout:"vertical",className:"step-form",children:c.jsxs(I,{gutter:24,children:[c.jsxs(C,{xs:24,md:12,children:[c.jsx(t.Item,{name:"domain",label:"Alt Alan Adı",rules:[{required:!0,message:"Alt alan adı zorunludur"},{pattern:/^[a-z0-9]+$/,message:"Sadece küçük harf ve rakam kullanın"},{min:3,message:"En az 3 karakter olmalıdır"}],validateStatus:!1===(null==ee?void 0:ee.isAvailable)?"error":"",help:null==ee?void 0:ee.message,children:c.jsx(P,{size:"large",placeholder:"sirketiniz",prefix:c.jsx(y,{}),suffix:c.jsx(Y,{type:"secondary",children:".stocker.com"}),onChange:e=>(e=>{if(e&&e.length>2){const l=e.toLowerCase().replace(/[^a-z0-9]/g,"");s.setFieldsValue({domain:l}),ne(`${l}.stocker.com`)}})(e.target.value)})}),(null==ee?void 0:ee.isAvailable)&&c.jsx(A,{message:`${s.getFieldValue("domain")}.stocker.com adresi kullanılabilir!`,type:"success",showIcon:!0,style:{marginBottom:16}})]}),c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"username",label:"Kullanıcı Adı",rules:[{required:!0,message:"Kullanıcı adı zorunludur"},{min:3,message:"En az 3 karakter olmalıdır"}],children:c.jsx(P,{size:"large",placeholder:"Kullanıcı adınız",prefix:c.jsx(T,{})})})}),c.jsxs(C,{xs:24,md:12,children:[c.jsx(t.Item,{name:"password",label:"Şifre",rules:[{required:!0,message:"Şifre zorunludur"},{min:8,message:"En az 8 karakter olmalıdır"}],children:c.jsx(P.Password,{size:"large",placeholder:"Güçlü bir şifre belirleyin",prefix:c.jsx(E,{}),onChange:e=>{var s;(s=e.target.value)&&de(s)}})}),ae&&c.jsx(D,{strength:ae})]}),c.jsx(C,{xs:24,md:12,children:c.jsx(t.Item,{name:"confirmPassword",label:"Şifre Tekrar",dependencies:["password"],rules:[{required:!0,message:"Şifre tekrarı zorunludur"},({getFieldValue:e})=>({validator:(s,l)=>l&&e("password")!==l?Promise.reject(new Error("Şifreler eşleşmiyor")):Promise.resolve()})],children:c.jsx(P.Password,{size:"large",placeholder:"Şifrenizi tekrar girin",prefix:c.jsx(E,{})})})})]})}),c.jsxs("div",{className:"security-features",children:[c.jsx(M,{level:4,children:"Güvenlik Özellikleri"}),c.jsxs(I,{gutter:[16,16],children:[c.jsx(C,{xs:12,md:6,children:c.jsxs(o,{size:"small",className:"security-card",children:[c.jsx(k,{style:{fontSize:24,color:"#52c41a"}}),c.jsx(Y,{children:"256-bit Şifreleme"})]})}),c.jsx(C,{xs:12,md:6,children:c.jsxs(o,{size:"small",className:"security-card",children:[c.jsx(p,{style:{fontSize:24,color:"#1890ff"}}),c.jsx(Y,{children:"İki Faktörlü Doğrulama"})]})}),c.jsx(C,{xs:12,md:6,children:c.jsxs(o,{size:"small",className:"security-card",children:[c.jsx(y,{style:{fontSize:24,color:"#722ed1"}}),c.jsx(Y,{children:"SSL Sertifikası"})]})}),c.jsx(C,{xs:12,md:6,children:c.jsxs(o,{size:"small",className:"security-card",children:[c.jsx(b,{style:{fontSize:24,color:"#fa8c16"}}),c.jsx(Y,{children:"KVKK Uyumlu"})]})})]})]})]});case 3:return c.jsxs("div",{className:"step-content",children:[c.jsxs("div",{className:"step-header",children:[c.jsx(M,{level:3,children:"Sözleşme ve Onay"}),c.jsx(_,{className:"step-description",children:"Son adım! Sözleşmeleri onaylayarak hesabınızı aktif edin."})]}),c.jsxs(t,{form:s,layout:"vertical",className:"step-form",children:[c.jsx("div",{className:"agreement-summary",children:c.jsxs(o,{className:"summary-card",children:[c.jsx(M,{level:4,children:"Hesap Özeti"}),c.jsx(f,{}),c.jsxs(I,{gutter:[16,16],children:[c.jsxs(C,{span:12,children:[c.jsx(Y,{type:"secondary",children:"Şirket:"}),c.jsx("br",{}),c.jsx(Y,{strong:!0,children:i.companyName})]}),c.jsxs(C,{span:12,children:[c.jsx(Y,{type:"secondary",children:"Yetkili:"}),c.jsx("br",{}),c.jsx(Y,{strong:!0,children:i.contactName})]}),c.jsxs(C,{span:12,children:[c.jsx(Y,{type:"secondary",children:"E-posta:"}),c.jsx("br",{}),c.jsx(Y,{strong:!0,children:i.contactEmail})]}),c.jsxs(C,{span:12,children:[c.jsx(Y,{type:"secondary",children:"Alan Adı:"}),c.jsx("br",{}),c.jsxs(Y,{strong:!0,children:[i.domain,".stocker.com"]})]})]})]})}),c.jsxs("div",{className:"agreements",children:[c.jsx(t.Item,{name:"termsAccepted",valuePropName:"checked",rules:[{validator:(e,s)=>s?Promise.resolve():Promise.reject(new Error("Sözleşmeyi kabul etmelisiniz"))}],children:c.jsx(V,{children:c.jsx(v,{children:c.jsxs("span",{children:[c.jsx("a",{href:"/terms",target:"_blank",children:"Kullanım Sözleşmesi"})," ve"," ",c.jsx("a",{href:"/privacy",target:"_blank",children:"Gizlilik Politikası"}),"'nı okudum ve kabul ediyorum."]})})})}),c.jsx(t.Item,{name:"marketingAccepted",valuePropName:"checked",children:c.jsx(V,{children:c.jsx(v,{children:c.jsx("span",{children:"Ürün güncellemeleri ve kampanyalar hakkında bilgi almak istiyorum."})})})})]}),c.jsx(A,{message:"14 Gün Ücretsiz Deneme",description:"Kredi kartı bilgisi gerekmez. İstediğiniz zaman iptal edebilirsiniz.",type:"success",showIcon:!0,style:{marginTop:24}})]})]});case 4:return c.jsx(N,{status:"success",title:"Hesabınız Başarıyla Oluşturuldu!",subTitle:`${i.domain}.stocker.com adresiniz hazır. E-posta adresinize gönderilen doğrulama linkine tıklayarak hesabınızı aktif edebilirsiniz.`,extra:[c.jsx(h,{type:"primary",size:"large",icon:c.jsx(w,{}),onClick:()=>e("/login"),children:"Giriş Yap"},"login"),c.jsx(h,{size:"large",onClick:()=>e("/"),children:"Ana Sayfa"},"home")],children:c.jsxs("div",{className:"success-details",children:[c.jsx(M,{level:4,children:"Sonraki Adımlar"}),c.jsxs(S,{children:[c.jsx(S.Item,{color:"green",children:"E-posta adresinizi doğrulayın"}),c.jsx(S.Item,{color:"blue",children:"Şirket profilinizi tamamlayın"}),c.jsx(S.Item,{color:"orange",children:"İlk kullanıcılarınızı ekleyin"}),c.jsx(S.Item,{color:"purple",children:"Modüllerinizi yapılandırın"})]})]})});default:return null}})()}),l<4&&c.jsxs("div",{className:"wizard-footer",children:[c.jsx(h,{onClick:()=>{a(l-1),window.scrollTo(0,0)},disabled:0===l,icon:c.jsx(j,{}),children:"Geri"}),c.jsx(h,{type:"primary",onClick:()=>n(null,null,function*(){try{const e=yield s.validateFields();d(r(r({},i),e)),l===me.length-1?he():(a(l+1),window.scrollTo(0,0))}catch(e){X.error("Lütfen gerekli alanları doldurun")}}),loading:R,icon:l===me.length-1?c.jsx(p,{}):c.jsx(g,{}),iconPosition:"end",children:l===me.length-1?"Hesabı Oluştur":"İleri"})]})]}),c.jsx("div",{className:"wizard-footer-info",children:c.jsxs(v,{split:c.jsx(f,{type:"vertical"}),children:[c.jsxs(Y,{type:"secondary",children:[c.jsx(k,{})," 256-bit SSL Şifreleme"]}),c.jsxs(Y,{type:"secondary",children:[c.jsx(p,{})," KVKK Uyumlu"]}),c.jsxs(Y,{type:"secondary",children:[c.jsx(y,{})," %99.9 Uptime Garantisi"]})]})})]})};export{R as default};
