# Stocker API Production Environment Variables
# This file contains all environment variables needed for production deployment

# ==================================
# DATABASE CONFIGURATION
# ==================================
SA_PASSWORD=YourStrongPassword123!
DB_SERVER=mssql
DB_PORT=1433

# Master Database
ConnectionStrings__MasterConnection=Server=${DB_SERVER};Database=StockerMasterDb;User Id=sa;Password=${SA_PASSWORD};TrustServerCertificate=True;MultipleActiveResultSets=true

# Tenant Database
ConnectionStrings__TenantConnection=Server=${DB_SERVER};Database=StockerTenantDb;User Id=sa;Password=${SA_PASSWORD};TrustServerCertificate=True;MultipleActiveResultSets=true

# Default Connection (same as Tenant)
ConnectionStrings__DefaultConnection=Server=${DB_SERVER};Database=StockerTenantDb;User Id=sa;Password=${SA_PASSWORD};TrustServerCertificate=True;MultipleActiveResultSets=true

# ==================================
# LOGGING CONFIGURATION (SEQ)
# ==================================
Logging__Seq__ServerUrl=http://seq:5341
Logging__Seq__ApiKey=2KD2afyLd0tMpP7IYHoC
Logging__Seq__MinimumLevel=Information

# ==================================
# JWT AUTHENTICATION
# ==================================
JwtSettings__Secret=ThisIsAVerySecureSecretKeyThatShouldBeAtLeast256BitsLongForHS256Algorithm2024!
JwtSettings__Issuer=Stocker
JwtSettings__Audience=Stocker
JwtSettings__AccessTokenExpirationMinutes=60
JwtSettings__RefreshTokenExpirationDays=7

# ==================================
# EMAIL SETTINGS (SMTP)
# ==================================
EmailSettings__SmtpHost=mail.privateemail.com
EmailSettings__SmtpPort=465
EmailSettings__SmtpUsername=info@stoocker.app
EmailSettings__SmtpPassword=A.bg010203
EmailSettings__EnableSsl=true
EmailSettings__FromEmail=info@stoocker.app
EmailSettings__FromName=Stoocker
EmailSettings__UseStartTls=false
EmailSettings__EnableEmail=true
EmailSettings__BaseUrl=https://stoocker.app
EmailSettings__TemplatesPath=EmailTemplates

# ==================================
# STORAGE CONFIGURATION (MINIO)
# ==================================
Storage__Provider=MinIO
Storage__MinIO__Endpoint=minio:9000
Storage__MinIO__AccessKey=admin
Storage__MinIO__SecretKey=MinioPassword123!
Storage__MinIO__BucketName=stocker-files
Storage__MinIO__UseSSL=false
Storage__MinIO__PublicEndpoint=https://s3.stoocker.app

MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=MinioPassword123!

# ==================================
# REDIS CONFIGURATION
# ==================================
Redis__ConnectionString=redis:6379
Redis__Password=RedisPassword123!
Redis__DefaultDatabase=0
Redis__ConnectTimeout=5000
Redis__SyncTimeout=5000
Redis__AsyncTimeout=5000
Redis__ConnectRetry=3
Redis__AbortOnConnectFail=false

# ==================================
# HANGFIRE CONFIGURATION
# ==================================
Hangfire__DashboardPath=/hangfire
Hangfire__ServerName=Stocker-Server
Hangfire__WorkerCount=4
Hangfire__Queues=critical,default,low
Hangfire__RetryAttempts=3
Hangfire__JobExpirationCheckInterval=01:00:00
Hangfire__CountersAggregateInterval=00:05:00
Hangfire__ConnectionString=Server=${DB_SERVER};Database=StockerHangfireDb;User Id=sa;Password=${SA_PASSWORD};TrustServerCertificate=True

# ==================================
# PASSWORD POLICY
# ==================================
PasswordPolicy__MinimumLength=8
PasswordPolicy__MaximumLength=128
PasswordPolicy__RequireUppercase=true
PasswordPolicy__RequireLowercase=true
PasswordPolicy__RequireDigit=true
PasswordPolicy__RequireNonAlphanumeric=true
PasswordPolicy__RequiredUniqueChars=4
PasswordPolicy__PreventCommonPasswords=true
PasswordPolicy__PreventUserInfoInPassword=true
PasswordPolicy__PasswordHistoryCount=5
PasswordPolicy__PasswordExpirationDays=90
PasswordPolicy__MaxFailedAccessAttempts=5
PasswordPolicy__LockoutDurationMinutes=15
PasswordPolicy__MinimumStrengthScore=3
PasswordPolicy__SpecialCharacters=!@#$%^&*()_+-=[]{}|;:,.<>?

# ==================================
# SECURITY HEADERS
# ==================================
SecurityHeaders__AddXContentTypeOptions=true
SecurityHeaders__AddXFrameOptions=true
SecurityHeaders__XFrameOptionsValue=DENY
SecurityHeaders__AddXXssProtection=true
SecurityHeaders__AddReferrerPolicy=true
SecurityHeaders__ReferrerPolicyValue=strict-origin-when-cross-origin
SecurityHeaders__AddContentSecurityPolicy=true
SecurityHeaders__AddStrictTransportSecurity=true
SecurityHeaders__HstsMaxAge=31536000
SecurityHeaders__HstsIncludeSubDomains=true
SecurityHeaders__HstsPreload=false
SecurityHeaders__AddXPermittedCrossDomainPolicies=true
SecurityHeaders__AddPermissionsPolicy=true

# ==================================
# RATE LIMITING
# ==================================
TenantRateLimiting__Algorithm=SlidingWindow
TenantRateLimiting__PermitLimit=100
TenantRateLimiting__WindowSeconds=60
TenantRateLimiting__QueueLimit=5
TenantRateLimiting__SegmentsPerWindow=4
TenantRateLimiting__TokensPerPeriod=10
TenantRateLimiting__ReplenishmentPeriodSeconds=1

# ==================================
# ASPNETCORE CONFIGURATION
# ==================================
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:5000

# ==================================
# CORS CONFIGURATION
# ==================================
CORS__AllowedOrigins=https://stoocker.app,https://www.stoocker.app,https://admin.stoocker.app,https://api.stoocker.app,https://*.stoocker.app

# ==================================
# APPLICATION URLS
# ==================================
AppSettings__FrontendUrl=https://stoocker.app
AppSettings__AdminUrl=https://admin.stoocker.app
AppSettings__ApiUrl=https://api.stoocker.app

# ==================================
# SIGNALR CONFIGURATION
# ==================================
SignalR__EnableDetailedErrors=false
SignalR__KeepAliveInterval=15
SignalR__ClientTimeoutInterval=30
SignalR__HandshakeTimeout=15

# ==================================
# TENANT CONFIGURATION
# ==================================
TenantSettings__DefaultTenant=master
TenantSettings__EnableMultiTenancy=true
TenantSettings__TenantIdentifierType=Subdomain

# ==================================
# MONITORING (Optional - for future use)
# ==================================
# ApplicationInsights__InstrumentationKey=
# ApplicationInsights__ConnectionString=
# OpenTelemetry__Endpoint=
# OpenTelemetry__ServiceName=stocker-api