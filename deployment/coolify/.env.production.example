# ================================
# Stocker Production Environment Variables
# ================================
# Copy this file to .env.production and fill in the values
# NEVER commit .env.production to git!

# ================================
# Database Configuration
# ================================
DB_SERVER=mssql
SA_PASSWORD=<GENERATE_STRONG_PASSWORD>

# Connection Strings (use DB_SERVER and SA_PASSWORD values to construct these in Coolify)
ConnectionStrings__MasterConnection=Server=<DB_SERVER>;Database=StockerMasterDb;User Id=sa;Password=<SA_PASSWORD>;TrustServerCertificate=true;MultipleActiveResultSets=true
ConnectionStrings__TenantConnection=Server=<DB_SERVER>;Database=StockerTenantDb;User Id=sa;Password=<SA_PASSWORD>;TrustServerCertificate=true;MultipleActiveResultSets=true
ConnectionStrings__DefaultConnection=Server=<DB_SERVER>;Database=StockerTenantDb;User Id=sa;Password=<SA_PASSWORD>;TrustServerCertificate=true;MultipleActiveResultSets=true
ConnectionStrings__HangfireConnection=Server=<DB_SERVER>;Database=StockerHangfireDb;User Id=sa;Password=<SA_PASSWORD>;TrustServerCertificate=true;MultipleActiveResultSets=true

# ================================
# JWT Configuration
# ================================
# Generate with: openssl rand -base64 64
JwtSettings__Secret=<GENERATE_64_CHAR_RANDOM_STRING>
JwtSettings__Issuer=https://api.stoocker.app
JwtSettings__Audience=https://stoocker.app
JwtSettings__AccessTokenExpirationMinutes=60
JwtSettings__RefreshTokenExpirationDays=7

# ================================
# Email Configuration
# ================================
EmailSettings__SmtpHost=<SMTP_HOST>
EmailSettings__SmtpPort=465
EmailSettings__SmtpUsername=<SMTP_USERNAME>
EmailSettings__SmtpPassword=<SMTP_PASSWORD>
EmailSettings__EnableSsl=true
EmailSettings__FromEmail=<FROM_EMAIL>
EmailSettings__FromName=Stoocker
EmailSettings__UseStartTls=false
EmailSettings__EnableEmail=true
EmailSettings__BaseUrl=https://stoocker.app

# ================================
# Logging Configuration
# ================================
Logging__Seq__ServerUrl=https://seq.stoocker.app
Logging__Seq__ApiKey=<SEQ_API_KEY_IF_NEEDED>

# ================================
# Redis Configuration (Optional)
# ================================
ConnectionStrings__Redis=<REDIS_CONNECTION_STRING>

# ================================
# Hangfire Configuration
# ================================
Hangfire__DashboardPath=/hangfire
Hangfire__ServerName=Stocker-Production
Hangfire__WorkerCount=8

# ================================
# ASP.NET Core Configuration
# ================================
ASPNETCORE_ENVIRONMENT=Production
ASPNETCORE_URLS=http://+:5000

# ================================
# Security Headers
# ================================
AllowedHosts=*

# ================================
# How to Generate Secure Secrets
# ================================
#
# For Linux/Mac:
#   JWT_SECRET:     openssl rand -base64 64
#   DB_PASSWORD:    openssl rand -base64 32
#   SMTP_PASSWORD:  Use your SMTP provider's password
#
# For Windows PowerShell:
#   JWT_SECRET:     [Convert]::ToBase64String((1..64 | ForEach-Object { Get-Random -Minimum 0 -Maximum 256 }))
#   DB_PASSWORD:    -Passthru | ConvertTo-SecureString -AsPlainText -Force | ConvertFrom-SecureString
#
# ================================
# Coolify Deployment Notes
# ================================
#
# IMPORTANT: Connection strings must be constructed manually in Coolify
#
# 1. In Coolify UI, go to your application
# 2. Navigate to Environment Variables
# 3. For each ConnectionStrings__* variable:
#    - Replace <DB_SERVER> with actual server hostname (e.g., coolify.stoocker.app)
#    - Replace <SA_PASSWORD> with actual SQL Server password
# 4. Add other variables (JWT_SECRET, SMTP settings, etc.)
# 5. Mark sensitive variables (passwords, secrets) as "Secret"
# 6. Redeploy the application
#
# Example:
# ConnectionStrings__MasterConnection=Server=coolify.stoocker.app;Database=StockerMasterDb;User Id=sa;Password=YourActualPassword123!;TrustServerCertificate=true;MultipleActiveResultSets=true
#
# ================================