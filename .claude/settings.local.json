{
  "permissions": {
    "allow": [
      "Bash(ssh root@95.217.219.4 \"docker exec 9f5c74e79517 env | grep -i ''commit\\|sha'' || docker logs 9f5c74e79517 2>&1 | head -20 | grep -i ''commit\\|built\\|version''\")",
      "Bash(ssh root@95.217.219.4 \"docker exec coolify php artisan queue:restart && echo ''✅ Coolify queue restarted for debug deployment''\")",
      "Bash(do echo \"[$i/10] Monitoring admin deployment...\")",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push)",
      "Bash(ssh root@95.217.219.4 \"docker exec coolify php artisan queue:restart && echo ''✅ Queue restarted''\")",
      "Bash(ssh root@95.217.219.4 \"docker ps --filter name=admin- --format ''{{.ID}} | Created: {{.CreatedAt}}''\")",
      "Bash(ssh root@95.217.219.4 \"docker logs coolify 2>&1 | tail -50 | grep -i ''stocker-admin\\|deployment\\|building'' || echo ''No recent deployment logs''\")",
      "Bash(ssh root@95.217.219.4 \"docker exec coolify php artisan queue:work --stop-when-empty 2>&1 | head -20\")",
      "Bash(ssh root@95.217.219.4 \"docker exec 86a6eabb8a9d cat /etc/nginx/conf.d/default.conf | head -20\")",
      "Bash(scp:*)",
      "Bash(ssh root@95.217.219.4 \"docker cp /tmp/nginx-fix.conf 86a6eabb8a9d:/etc/nginx/conf.d/default.conf && docker exec 86a6eabb8a9d nginx -t && docker exec 86a6eabb8a9d nginx -s reload && echo ''✅ Nginx config updated and reloaded''\")",
      "Bash(ssh:*)",
      "Bash(git revert:*)",
      "Bash(npm run build:*)",
      "Bash(dotnet build:*)",
      "Bash(for i in {1..10})",
      "Bash(do echo \"[$i/10] Monitoring auth deployment...\")",
      "Bash(done)",
      "Bash(curl:*)",
      "Bash(for i in {1..12})",
      "Bash(do echo \"[$i/12] Monitoring deployment...\")",
      "Bash(grep:*)",
      "Bash(do echo \"[$i/10] Checking for new deployment...\")",
      "Bash(cat:*)",
      "Bash(sed:*)",
      "Bash(for i in {1..15})",
      "Bash(do echo \"[$i/15] Monitoring deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring phone format deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring admin deployment...\")",
      "Bash(do echo \"[$i/15] Checking for new admin deployment...\")",
      "Bash(tee:*)",
      "Bash(do echo \"[$i/15] Monitoring login fix deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring backward compatibility deployment...\")",
      "Bash(do echo \"[$i/10] Monitoring timestamp fix deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring timestamp fix deployment...\")",
      "Bash(dir:*)",
      "Bash(findstr:*)",
      "Bash(do echo \"[$i/10] Monitoring subdomain routing deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring redeploy for wildcard routing...\")",
      "Bash(do echo \"[$i/15] Monitoring wildcard fix deployment...\")",
      "Bash(pkill:*)",
      "Bash(awk:*)",
      "Bash(xargs:*)",
      "Bash(do echo \"[$i/15] Monitoring cross-subdomain auth deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring TenantCode redirect deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring API client fix deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring FINAL FIX deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring SSR fix deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring response parsing fix deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring Next.js rewrite fix deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring relative path fix deployment...\")",
      "Bash(git stash:*)",
      "Bash(do echo \"[$i/15] Monitoring tenant auto-selection deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring API deployment after queue restart...\")",
      "Bash(git checkout:*)",
      "Bash(ls:*)",
      "Bash(do echo \"[$i/15] Monitoring API rewrite fix deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring API build fix deployment...\")",
      "Bash(test:*)",
      "Bash(mkdir:*)",
      "Bash(npm install:*)",
      "Bash(npx playwright install chromium)",
      "Bash(node scripts/debug-auth-redirect.js:*)",
      "Bash(git push:*)",
      "Bash(do echo \"[$i/15] Monitoring stocker-nextjs rebuild...\")",
      "Bash(node scripts/check-production-env.js:*)",
      "Bash(do echo \"[$i/10] Monitoring API deployment...\")",
      "Bash(node debug-auth-redirect.js:*)",
      "Bash(do echo \"[$i/15] Monitoring API deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring Hangfire resilience deployment...\")",
      "Bash(do echo \"[$i/10] Monitoring Admin deployment...\")",
      "Bash(dotnet add:*)",
      "Bash(do echo \"[$i/15] Monitoring package fix deployment...\")",
      "Bash(do echo \"[$i/12] Waiting for SQL Server...\")",
      "Bash(killall ssh:*)",
      "Bash(dotnet ef migrations add:*)",
      "Bash(dotnet script:*)",
      "Bash(dotnet new:*)",
      "Bash(dotnet run)",
      "Bash(dotnet ef dbcontext:*)",
      "Bash(dotnet ef database update:*)",
      "Bash(Select-String -Pattern \"error|warning\")",
      "Bash(Select-Object -First 20)",
      "Bash(dotnet ef migrations remove:*)",
      "Bash(dotnet ef migrations script:*)",
      "Bash(do echo \"[$i/15] Monitoring CRM migration deployment...\")",
      "Bash(git reset:*)",
      "Bash(Select-String -Pattern \"error|Build succeeded|Build FAILED\")",
      "Bash(dotnet test:*)",
      "Bash(find:*)",
      "Bash(Select-String -Pattern \"error|warning|succeeded|failed\")",
      "Bash(Select-String \"error\")",
      "Bash(timeout 30 dotnet build:*)",
      "Bash(Select-Object -First 25)",
      "Bash(Select-String \"error\" -Context 0,2)",
      "Bash(dotnet ef migrations:*)",
      "Bash(dotnet sln:*)",
      "Bash(Select-String \"error|Build succeeded|Build FAILED\")",
      "Bash(for file in ActivitiesController.cs CampaignsController.cs CustomersController.cs CustomerSegmentsController.cs CustomerTagsController.cs DealsController.cs DocumentsController.cs LeadsController.cs OpportunitiesController.cs PipelinesController.cs WorkflowsController.cs)",
      "Bash(do sed -i 's/using Stocker\\.API\\.Middleware;/using Stocker.SharedKernel.Authorization;/g' \"$file\")",
      "Bash(echo:*)",
      "Bash(timeout 120 dotnet build:*)",
      "Bash(timeout 180 dotnet build:*)",
      "Bash(do echo \"[$i/15] Monitoring Phase 4.5 deployment...\")",
      "Bash(do echo \"[$i/15] Monitoring Dockerfile fix deployment...\")",
      "Bash(for i in {1..20})",
      "Bash(do echo \"[$i/20] Monitoring ROOT Dockerfile deployment (commit 877c1d92)...\")",
      "Bash(timeout 120 dotnet publish:*)",
      "Bash(do echo \"[$i/15] Monitoring Docker Compose fix deployment (commit a2716d61)...\")",
      "Bash(jobs:*)",
      "Bash(do)"
    ],
    "deny": [],
    "ask": []
  }
}
